(function(){"use strict";var e={4132:function(e,t,a){var o=a(144),s=a(998),r=function(){var e=this,t=e._self._c;return t(s.Z,[t("Header"),t("router-view"),t("Footer")],1)},i=[],n=a(6232),l=a(5550),c=a(4562),d=a(2118),u=a(4324),m=a(5808),p=a(4525),f=a(7941),h=a(4611),v=a(2866),b=a(9709),g=a(3687),x=a(7953),y=function(){var e=this,t=e._self._c;return t(d.Z,{staticStyle:{padding:"0"},attrs:{fluid:""}},[t(n.Z,{attrs:{color:"primary",dark:"",flat:""}},[void 0!=this.$store.state.token?t(l.Z,{on:{click:function(t){e.drawer=!0}}}):e._e(),t(x.qW,{staticClass:"font-weight-black black--text"},[e._v("LABFICAT")]),t(g.Z),t(c.Z,{staticClass:"font-weight-black",attrs:{icon:""},on:{click:e.cerrarSesion}},[t("font-awesome-icon",{staticStyle:{"font-size":"30px",color:"black"},attrs:{icon:"fa-solid fa-right-from-bracket"}})],1)],1),t(b.Z,{attrs:{absolute:"",temporary:"",bottom:"",dark:"","expand-on-hover":""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[t(m.Z,{attrs:{nav:"",dense:""}},[t(f.Z,{attrs:{"active-class":"deep-purple--text text--accent-4"},model:{value:e.group,callback:function(t){e.group=t},expression:"group"}},[t(p.Z,{attrs:{to:"inicio"}},[t(h.Z,[t(u.Z,[e._v("mdi-home")])],1),t(v.V9,[e._v("Inicio")])],1),t(p.Z,{attrs:{to:"mostrarCotizacion"}},[t(h.Z,[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-hand-holding-dollar"}})],1),t(v.V9,[e._v("Cotizacion")])],1),t(p.Z,{attrs:{to:"mostrarMuestra"}},[t(h.Z,[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-book"}})],1),t(v.V9,[e._v("Muestra")])],1),t(p.Z,{attrs:{to:"ordenServicio"}},[t(h.Z,[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-check-to-slot"}})],1),t(v.V9,[e._v("orden de servicio")])],1),t(p.Z,{attrs:{to:"informeDeResultados"}},[t(h.Z,[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-table-list"}})],1),t(v.V9,[e._v("informe de resultados")])],1),t(p.Z,{attrs:{to:"mostrarUsuarios"}},[t(h.Z,[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-user-pen"}})],1),t(v.V9,[e._v("registro de usuarios")])],1),t(p.Z,{attrs:{to:"configuracion"}},[t(h.Z,[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-users-gear"}})],1),t(v.V9,[e._v("configuracion")])],1)],1)],1)],1)],1)},C=[],_={name:"pageHeader",data(){return{drawer:!1,group:null}},methods:{cerrarSesion(){this.$router.push("/"),this.$store.state.token="",this.$store.state.elaborador="",this.$store.state.cotizacionEditar="",this.$store.state.cotizacionVer=!1,this.$store.state.token=void 0,localStorage.removeItem("token"),localStorage.removeItem("elaborador")}},created(){console.log("token: "+this.$store.state.token)}},Z=_,k=a(1001),E=(0,k.Z)(Z,y,C,!1,null,"7c37e1b4",null),S=E.exports,z=a(266),w=a(8271),M=function(){var e=this,t=e._self._c;return t(d.Z,{attrs:{fluid:""}},[t(w.Z,{attrs:{padless:"",app:""}},[t(z.Z,{staticClass:"text-center primary",attrs:{cols:"12"}},[e._v(" "+e._s((new Date).getFullYear())+" — "),t("strong",[e._v("SENA")])])],1)],1)},q=[],$={name:"pageFooter",data:()=>({})},I=$,R=(0,k.Z)(I,M,q,!1,null,null,null),D=R.exports,T={name:"App",components:{Header:S,Footer:D},data:()=>({})},O=T,N=(0,k.Z)(O,r,i,!1,null,null,null),A=N.exports,V=a(1705);o.ZP.use(V.Z);var L=new V.Z({theme:{themes:{light:{primary:"#ED7D31",secondary:"#b0bec5",accent:"#8c9eff",error:"#b71c1c"}}}}),P=a(8345),U=a(4145),F=a(4886),j=a(1713),B=function(){var e=this,t=e._self._c;return t(d.Z,{attrs:{fluid:""}},[t(j.Z,[t(z.Z,{attrs:{cols:"4"}},[t(U.Z,{staticClass:"borde mx-auto rounded-xl rounded-tr-0",attrs:{"max-width":"344",outlined:""}},[t(p.Z,{staticClass:"text-center",attrs:{"three-line":""}},[t(v.km,[t("div",{staticClass:"text-overline mb-4"},[e._v("labficat")]),t(v.V9,{staticClass:"text-h5 mb-1"},[e._v(" COTIZACION ")]),t("font-awesome-icon",{staticClass:"mt-2",staticStyle:{"font-size":"25px"},attrs:{icon:"fa-solid fa-hand-holding-dollar"}})],1)],1),t(F.h7,{staticClass:"boton"},[t(c.Z,{staticClass:"primary",attrs:{to:"mostrarCotizacion",outlined:"",rounded:"",text:""}},[e._v(" INGRESAR ")])],1)],1)],1),t(z.Z,{attrs:{cols:"4"}},[t(U.Z,{staticClass:"borde mx-auto rounded-xl rounded-tr-0",attrs:{"max-width":"344",outlined:""}},[t(p.Z,{staticClass:"text-center",attrs:{"three-line":""}},[t(v.km,[t("div",{staticClass:"text-overline mb-4"},[e._v("labficat")]),t(v.V9,{staticClass:"text-h5 mb-1"},[e._v(" RECEPCION MUESTRA ")]),t("font-awesome-icon",{staticClass:"mt-2",staticStyle:{"font-size":"25px"},attrs:{icon:"fa-solid fa-book"}})],1)],1),t(F.h7,{staticClass:"boton"},[t(c.Z,{staticClass:"primary",attrs:{to:"mostrarMuestra",outlined:"",rounded:"",text:""}},[e._v(" INGRESAR ")])],1)],1)],1),t(z.Z,{attrs:{cols:"4"}},[t(U.Z,{staticClass:"borde mx-auto rounded-xl rounded-tr-0",attrs:{"max-width":"344",outlined:""}},[t(p.Z,{staticClass:"text-center",attrs:{"three-line":""}},[t(v.km,[t("div",{staticClass:"text-overline mb-4"},[e._v("labficat")]),t(v.V9,{staticClass:"text-h5 mb-1"},[e._v(" ORDEN DE SERVICIO ")]),t("font-awesome-icon",{staticClass:"mt-2",staticStyle:{"font-size":"25px"},attrs:{icon:"fa-solid fa-check-to-slot"}})],1)],1),t(F.h7,{staticClass:"boton"},[t(c.Z,{staticClass:"primary",attrs:{to:"ordenServicio",outlined:"",rounded:"",text:""}},[e._v(" INGRESAR ")])],1)],1)],1),t(z.Z,{attrs:{cols:"4"}},[t(U.Z,{staticClass:"borde mx-auto rounded-xl rounded-tr-0",attrs:{"max-width":"344",outlined:""}},[t(p.Z,{staticClass:"text-center",attrs:{"three-line":""}},[t(v.km,[t("div",{staticClass:"text-overline mb-4"},[e._v("labficat")]),t(v.V9,{staticClass:"text-h5 mb-1"},[e._v(" INFORME DE RESULTADOS ")]),t("font-awesome-icon",{staticClass:"mt-2",staticStyle:{"font-size":"25px"},attrs:{icon:"fa-solid fa-table-list"}})],1)],1),t(F.h7,{staticClass:"boton"},[t(c.Z,{staticClass:"primary",attrs:{to:"informeDeResultados",outlined:"",rounded:"",text:""}},[e._v(" INGRESAR ")])],1)],1)],1),t(z.Z,{attrs:{cols:"4"}},[t(U.Z,{staticClass:"borde mx-auto rounded-xl rounded-tr-0",attrs:{"max-width":"344",outlined:""}},[t(p.Z,{staticClass:"text-center",attrs:{"three-line":""}},[t(v.km,[t("div",{staticClass:"text-overline mb-4"},[e._v("labficat")]),t(v.V9,{staticClass:"text-h5 mb-1"},[e._v(" REGISTRO DE USUARIO ")]),t("font-awesome-icon",{staticClass:"mt-2",staticStyle:{"font-size":"25px"},attrs:{icon:"fa-solid fa-user-pen"}})],1)],1),t(F.h7,{staticClass:"boton"},[t(c.Z,{staticClass:"primary",attrs:{to:"mostrarUsuarios",outlined:"",rounded:"",text:""}},[e._v(" INGRESAR ")])],1)],1)],1),t(z.Z,{attrs:{cols:"4"}},[t(U.Z,{staticClass:"borde mx-auto rounded-xl rounded-tr-0",attrs:{"max-width":"344",outlined:""}},[t(p.Z,{staticClass:"text-center",attrs:{"three-line":""}},[t(v.km,[t("div",{staticClass:"text-overline mb-4"},[e._v("labficat")]),t(v.V9,{staticClass:"text-h5 mb-1"},[e._v(" CONFIGURACIÓN ")]),t("font-awesome-icon",{staticClass:"mt-2",staticStyle:{"font-size":"25px"},attrs:{icon:"fa-solid fa-users-gear"}})],1)],1),t(F.h7,{staticClass:"boton"},[t(c.Z,{staticClass:"primary",attrs:{to:"configuracion",outlined:"",rounded:"",text:""}},[e._v(" INGRESAR ")])],1)],1)],1)],1)],1)},G=[],X=a(9669),J=a.n(X),W={name:"pageInicio",data:()=>({}),methods:{ingreso(){J().post("https://labficat.herokuapp.com/api/cotizacion").then((e=>{console.log(e),this.$router.push("/cotizacion"),this.$swal({icon:"success",title:"Ingreso exitoso"})})).catch((e=>{console.log(e)}))}}},Y=W,Q=(0,k.Z)(Y,B,G,!1,null,"27942e2c",null),H=Q.exports,K=a(2933),ee=a(3305),te=a(7808),ae=function(){var e=this,t=e._self._c;return t(d.Z,[t(j.Z,{staticClass:"my-12 justify-center text-center white--text pa-4 text-center"},[t(z.Z,{attrs:{cols:"8"}},[t(U.Z,{staticClass:"rounded-xl rounded-bl-0",attrs:{outlined:""}},[t(F.EB,{staticClass:"primary",staticStyle:{"text-align":"center","justify-content":"center"},attrs:{id:""}},[t("font-awesome-icon",{staticStyle:{"font-size":"36px"},attrs:{icon:"fa-solid fa-user"}})],1),t("h2",{staticClass:"pt-4"},[e._v("Inicia sesión")]),t("validation-observer",{ref:"observer",scopedSlots:e._u([{key:"default",fn:function({invalid:a}){return[t("form",{staticClass:"py-7 px-7",on:{submit:function(t){return t.preventDefault(),e.iniciar.apply(null,arguments)}}},[t("validation-provider",{attrs:{name:"Email",rules:"required|email"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"E-mail","prepend-icon":"mdi-email",outlined:"",required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"contraseña",rules:"required|min:8"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"Contraseña",type:"password",outlined:"","prepend-icon":"mdi-lock",required:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})]}}],null,!0)}),t(c.Z,{staticClass:"mr-4",attrs:{color:"primary",type:"submit",disabled:a,rounded:"",block:""}},[e._v(" ingresar ")])],1)]}}])})],1)],1),t(K.Z,{attrs:{value:e.overlay}},[t(ee.Z,{attrs:{indeterminate:"",size:"64"}})],1)],1)],1)},oe=[],se=a(4479),re=a(2954);(0,re.UF)("eager"),(0,re.l7)("required",{...se.C1,message:"{_field_} no puede estar vacio"}),(0,re.l7)("email",{...se.Do,message:"Email must be valid"}),(0,re.l7)("min",{...se.VV,message:"El campo {_field_} debe tener {length} caracteres o más"});var ie={name:"pageLogin",components:{ValidationProvider:re.d_,ValidationObserver:re._j},data:()=>({name:"",phoneNumber:"",email:"",password:"",select:null,overlay:!1,elaborado:{}}),methods:{iniciar(){this.$refs.observer.validate(),this.overlay=!0,J().post("https://labficat.herokuapp.com/api/usuario/login",{correo:this.email,password:this.password}).then((e=>{console.log(e.data.usuario),this.$router.push("/inicio"),this.$swal({icon:"success",title:"Inicio de sesión exitoso",text:` Bienvenido ${e.data.usuario.nombre}`}),this.overlay=!1,this.elaborado={nombre:e.data.usuario.nombre,rol:e.data.usuario.rol,id:e.data.usuario._id},this.$store.dispatch("setToken",e.data.token),this.$store.dispatch("setElaborador",this.elaborado),console.log(this.$store.state.elaborador)})).catch((e=>{this.overlay=!1,console.log(e),this.$swal({icon:"error",title:"Error al iniciar sesión",text:`${e.response.data.msg}`})}))},existeToken(){localStorage.token&&this.$router.push("/inicio")}},created(){this.existeToken()}},ne=ie,le=(0,k.Z)(ne,ae,oe,!1,null,"dffe422e",null),ce=le.exports,de=a(3863),ue=a(1030),me=a(4061),pe=a(9223),fe=a(8224),he=a(5495),ve=a(4528),be=a(9481),ge=function(){var e=this,t=e._self._c;return t(d.Z,{staticStyle:{height:"100%"},attrs:{fluid:""}},[t(j.Z,[t(z.Z,{attrs:{cols:"2"}},[t(he.Z,{attrs:{width:"164",height:"162",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/8/83/Sena_Colombia_logo.svg/1200px-Sena_Colombia_logo.svg.png"}})],1),t(z.Z,{staticClass:"texto",attrs:{cols:"6"}},[t("h2",{staticClass:"mt-0 text-decoration-underline"},[e._v("Oferta de servicios")]),t("p",{staticClass:"parrafo font-weight-black"},[e._v(" Laboratorio de Caracterización Fisicoquímica de Alimentos del Centro Agroturístico "),t("br"),e._v(" “LABFICAT” de San Gil, Santander "),t("br"),e._v(" 899.999.034 "),t("br"),e._v(" Dirección: Calle 22 No. 09 – 82, San Gil, Santander "),t("br"),e._v(" Teléfono: (607) 7248113 "),t("br"),e._v(" Correo electrónico: labficat@sena.edu.co Agroturístico ")])]),t(z.Z,{staticClass:"text-center",attrs:{cols:"2"}},[t("h3",{staticClass:"mt-0 font-weight-black"},[e._v("cotización No.")]),t("h2",{staticClass:"mt-2 red--text"},[e._v(e._s(e.numeroCotizacion))]),t("h3",{staticClass:"mt-2 font-weight-black"},[e._v("fecha de emisión:")]),t("h2",{staticClass:"mt-2 red--text"},[e._v(e._s(this.fechaEmision))])]),t(z.Z,{staticClass:"codigo font-weight-black",attrs:{cols:"2"}},[t("p",[e._v(" Código "),t("br"),e._v(" "+e._s(e.formato[0].codigo)+" ")]),t("p",[e._v(" Aprobación "),t("br"),e._v(" "+e._s(e.formato[0].aprobacion)+" ")]),t("p",[e._v(" Versión "),t("br"),e._v(" "+e._s(e.formato[0].version)+" ")])])],1),t(j.Z,[t("h5",{staticClass:"primary text-center white--text",staticStyle:{width:"100%"}},[e._v(" 1. Datos del cliente ")])]),t(j.Z,[t(z.Z,{staticClass:"py-0 px-0",attrs:{cols:"6"}},[t(j.Z,[t(z.Z,{staticClass:"text-center px-0",attrs:{cols:"4"}},[t("p",{staticClass:"label mb-0",attrs:{for:"Name"}},[e._v(" Clientes "),t(me.Z,{attrs:{persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:o}){return[t(c.Z,e._g(e._b({staticClass:"field",attrs:{icon:""}},"v-btn",o,!1),a),[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-user"}})],1)]}}]),model:{value:e.dialogo,callback:function(t){e.dialogo=t},expression:"dialogo"}},[t(U.Z,[t(j.Z,[t(z.Z,[t(U.Z,[t(F.EB,[e._v(" Usuarios "),t(pe.Z,{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t(g.Z),t(te.Z,{attrs:{label:"Buscar por nombre o por rol","single-line":"","hide-details":""},model:{value:e.busqueda,callback:function(t){e.busqueda=t},expression:"busqueda"}}),t(pe.Z,{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t(g.Z),t(me.Z,{attrs:{"max-width":"1000px",persistent:""},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:o}){return[t(c.Z,e._g(e._b({staticClass:"primary",on:{click:e.traerDepartamentos}},"v-btn",o,!1),a),[e._v("Agregar usuario")])]}}]),model:{value:e.dialogUser,callback:function(t){e.dialogUser=t},expression:"dialogUser"}},[t(U.Z,{attrs:{outlined:""}},[t(F.EB,[t(fe.Z,{scopedSlots:e._u([{key:"default",fn:function({hover:a}){return[t(c.Z,{style:{color:a?"red":""},attrs:{icon:""},on:{click:e.close}},[t("font-awesome-icon",{staticStyle:{fontSize:"20px"},attrs:{icon:"fa-solid fa-xmark"}})],1)]}}])}),e._v(" Formulario registro de usuarios ")],1),t("validation-observer",{ref:"observer",scopedSlots:e._u([{key:"default",fn:function({invalid:a}){return[t("form",{staticClass:"py-7 px-7",on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[t("validation-provider",{attrs:{name:"tipo de persona",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(be.Z,{attrs:{items:e.items,"error-messages":a,outlined:"",label:"Tipo de persona","data-vv-name":"tipo de persona",required:""},model:{value:e.select,callback:function(t){e.select=t},expression:"select"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"nombre",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"Nombre",outlined:"",required:""},model:{value:e.nombre,callback:function(t){e.nombre=t},expression:"nombre"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"documento",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"Documento",outlined:"",required:""},model:{value:e.documento,callback:function(t){e.documento=t},expression:"documento"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"dirección",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"Dirección",outlined:"",required:""},model:{value:e.direccion,callback:function(t){e.direccion=t},expression:"direccion"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"departamento",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(be.Z,{attrs:{items:e.departa,"item-text":"departamento","item-key":"departa","item-value":"_id","error-messages":a,outlined:"",label:"Departamento","data-vv-name":"departamento",required:""},on:{change:function(t){return e.traerCiudades(e.departa)}},model:{value:e.departamento,callback:function(t){e.departamento=t},expression:"departamento"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"ciudad",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(be.Z,{attrs:{items:e.ciudades,"item-text":"Ciudad","item-key":"ciudades","item-value":"_id","error-messages":a,outlined:"",label:"Cuidad","data-vv-name":"ciudad",required:""},model:{value:e.ciudad,callback:function(t){e.ciudad=t},expression:"ciudad"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"contacto",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"Contacto",outlined:"",required:""},model:{value:e.contacto,callback:function(t){e.contacto=t},expression:"contacto"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"teléfono del contacto",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"Telefono contacto",outlined:"",required:""},model:{value:e.celularContacto,callback:function(t){e.celularContacto=t},expression:"celularContacto"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"teléfono",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"Teléfono",outlined:"",required:""},model:{value:e.telefono,callback:function(t){e.telefono=t},expression:"telefono"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"Email",rules:"required|email"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"E-mail","prepend-icon":"mdi-email",outlined:"",required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"contraseña",vid:"password",rules:{required:!0,min:8}},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"Contraseña",type:"password",outlined:"","prepend-icon":"mdi-lock",required:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"confirmar contraseña",rules:"required|confirmed:password"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"confirmar contraseña",outlined:"",type:"password",required:""},model:{value:e.confirmation,callback:function(t){e.confirmation=t},expression:"confirmation"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"rol",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(be.Z,{attrs:{items:e.roles,"error-messages":a,outlined:"",label:"Roles","data-vv-name":"roles",required:""},model:{value:e.roll,callback:function(t){e.roll=t},expression:"roll"}})]}}],null,!0)}),t(c.Z,{staticClass:"mr-4",attrs:{color:"primary",type:"submit",disabled:a,rounded:"",block:""},on:{click:e.registrar}},[e._v(" Registrar ")])],1)]}}])}),t(F.h7,[t(fe.Z,{scopedSlots:e._u([{key:"default",fn:function({hover:a}){return[t(c.Z,{staticClass:"ml-5",style:{background:a?"red":""},attrs:{text:""},on:{click:e.close}},[e._v(" Cerrar ")])]}}])})],1)],1)],1)],1),t(de.Z,{attrs:{headers:e.headers,items:e.buscar,loading:e.myLoading,"loading-text":"Cargando... Por favor espera"},scopedSlots:e._u([{key:"item.actions",fn:function({item:a}){return[t(c.Z,{attrs:{color:"black",icon:""},on:{click:function(t){return e.llenarInfo(a)}}},[t("font-awesome-icon",{staticStyle:{"font-size":"20px"},attrs:{icon:"fa-solid fa-user-plus"}})],1)]}}],null,!0)})],1)],1)],1),t(F.h7,[t(g.Z),t(c.Z,{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.dialogo=!1}}},[e._v(" Cerrar ")])],1)],1)],1)],1),t("p",{staticClass:"label mb-0",attrs:{for:"Name"}},[e._v("Dirección")]),t("p",{staticClass:"label mb-0",attrs:{for:"Name"}},[e._v("Departamento")]),t("p",{staticClass:"label mb-0",attrs:{for:"Name"}},[e._v("Contacto")]),t("p",{staticClass:"label mb-0",attrs:{for:"Name"}},[e._v("Celular")]),t("p",{staticClass:"label mb-0",attrs:{for:"Name"}},[e._v("Validez de la oferta")]),t("p",{staticClass:"label mb-0",attrs:{for:"Name"}},[e._v("Elaborado por")])]),t(z.Z,{staticClass:"pl-0",attrs:{cols:"8"}},[t(te.Z,{staticClass:"field px-0 py-0 my-0",attrs:{height:"26"},model:{value:e.person.nombre,callback:function(t){e.$set(e.person,"nombre",t)},expression:"person.nombre"}}),t(te.Z,{staticClass:"field px-0 py-0 my-0",attrs:{height:"26"},model:{value:e.person.direccion,callback:function(t){e.$set(e.person,"direccion",t)},expression:"person.direccion"}}),t(te.Z,{staticClass:"field px-0 py-0 my-0",attrs:{height:"26"},model:{value:e.person.departamento,callback:function(t){e.$set(e.person,"departamento",t)},expression:"person.departamento"}}),t(te.Z,{staticClass:"field px-0 py-0 my-0",attrs:{height:"26"},model:{value:e.person.contacto,callback:function(t){e.$set(e.person,"contacto",t)},expression:"person.contacto"}}),t(te.Z,{staticClass:"field px-0 py-0 my-0",attrs:{height:"26"},model:{value:e.person.celularContacto,callback:function(t){e.$set(e.person,"celularContacto",t)},expression:"person.celularContacto"}}),t(ve.Z,{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:o}){return[t(te.Z,e._g(e._b({staticClass:"field px-0 py-0 my-0",attrs:{"prepend-icon":"mdi-calendar",readonly:"",height:"26"},model:{value:e.validezOferta,callback:function(t){e.validezOferta=t},expression:"validezOferta"}},"v-text-field",o,!1),a))]}}]),model:{value:e.menu1,callback:function(t){e.menu1=t},expression:"menu1"}},[t(ue.Z,{on:{input:function(t){e.menu1=!1}},model:{value:e.validezOferta,callback:function(t){e.validezOferta=t},expression:"validezOferta"}})],1),t(te.Z,{staticClass:"field px-0 py-0 my-0",attrs:{height:"26"},model:{value:e.person.elaborador,callback:function(t){e.$set(e.person,"elaborador",t)},expression:"person.elaborador"}})],1)],1)],1),t(z.Z,{staticClass:"py-0 px-0",attrs:{cols:"6"}},[t(j.Z,[t(z.Z,{staticClass:"text-center pr-0",attrs:{cols:"4"}},[t("p",{staticClass:"label mb-0",attrs:{for:"Name"}},[e._v("NIT / C.C.")]),t("p",{staticClass:"label mb-0",attrs:{for:"Name"}},[e._v("Ciudad")]),t("p",{staticClass:"label mb-0",attrs:{for:"Name"}},[e._v("Teléfono")]),t("p",{staticClass:"label mb-0",attrs:{for:"Name"}},[e._v("Cargo")]),t("p",{staticClass:"label mb-0",attrs:{for:"Name"}},[e._v("Correo electrónico")]),t("p",{staticClass:"label mb-0",attrs:{for:"Name"}},[e._v("Entrega de resultados")]),t("p",{staticClass:"label mb-0",attrs:{for:"Name"}},[e._v("Cargo")])]),t(z.Z,{staticClass:"pl-0",attrs:{cols:"8"}},[t(te.Z,{staticClass:"field py-0 my-0",attrs:{height:"26"},model:{value:e.person.cc,callback:function(t){e.$set(e.person,"cc",t)},expression:"person.cc"}}),t(te.Z,{staticClass:"field py-0 my-0",attrs:{height:"26"},model:{value:e.person.ciudad,callback:function(t){e.$set(e.person,"ciudad",t)},expression:"person.ciudad"}}),t(te.Z,{staticClass:"field py-0 my-0",attrs:{height:"26"},model:{value:e.person.telefono,callback:function(t){e.$set(e.person,"telefono",t)},expression:"person.telefono"}}),t(te.Z,{staticClass:"field py-0 my-0",attrs:{height:"26"},model:{value:e.person.cargo,callback:function(t){e.$set(e.person,"cargo",t)},expression:"person.cargo"}}),t(te.Z,{staticClass:"field py-0 my-0",attrs:{height:"26"},model:{value:e.person.correoContacto,callback:function(t){e.$set(e.person,"correoContacto",t)},expression:"person.correoContacto"}}),t(ve.Z,{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:o}){return[t(te.Z,e._g(e._b({staticClass:"field px-0 py-0 my-0",attrs:{"prepend-icon":"mdi-calendar",readonly:"",height:"26"},model:{value:e.entregaResultados,callback:function(t){e.entregaResultados=t},expression:"entregaResultados"}},"v-text-field",o,!1),a))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[t(ue.Z,{on:{input:function(t){e.menu2=!1}},model:{value:e.entregaResultados,callback:function(t){e.entregaResultados=t},expression:"entregaResultados"}})],1),t(te.Z,{staticClass:"field py-0 my-0",attrs:{height:"26"},model:{value:e.person.cargoElaborador,callback:function(t){e.$set(e.person,"cargoElaborador",t)},expression:"person.cargoElaborador"}})],1)],1)],1)],1),t(j.Z,[t("h5",{staticClass:"primary text-center white--text",staticStyle:{width:"100%"}},[e._v(" 2. Propuesta técnica y económica ")])]),t(j.Z,{attrs:{id:"border"}},[t("h5",{staticClass:"primary text-center white--text",staticStyle:{width:"100%"}},[e._v(" Item 1 ")])]),t(j.Z,[t(z.Z,{staticClass:"px-0 py-0"},[t(U.Z,[t(F.EB,[e._v(" Ensayos "),t(pe.Z,{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t(g.Z),t(te.Z,{attrs:{label:"buscador","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),t(g.Z),t(me.Z,{attrs:{"max-width":"1000px",persistent:""},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:o}){return[t(c.Z,e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",o,!1),a),[e._v(" Nuevo Item ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(U.Z,[t(F.EB,[e._v(" ENSAYOS "),t(g.Z),t(te.Z,{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),t(de.Z,{attrs:{headers:e.encabezadoEnsayo,items:e.ensayos1,search:e.search,"item-key":"ensayos"},scopedSlots:e._u([{key:"item.actions",fn:function({item:a}){return[t(c.Z,{attrs:{color:"black",icon:""},on:{click:function(t){return e.ensayoCotizacion(a)}}},[t("font-awesome-icon",{staticStyle:{"font-size":"20px"},attrs:{icon:"fa-solid fa-plus"}})],1)]}}],null,!0)}),t(F.h7,[t(g.Z),t(c.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cerrar ")])],1)],1)],1)],1),t(de.Z,{attrs:{headers:e.encabezado,items:e.primerItem},scopedSlots:e._u([{key:"item.actions",fn:function({item:a}){return[t(u.Z,{on:{click:function(t){return e.eliminarCotizacion1(a)}}},[e._v(" mdi-delete ")])]}}],null,!0)})],1)],1)],1),t(j.Z,{attrs:{id:"border"}},[t("h5",{staticClass:"primary text-center white--text",staticStyle:{width:"100%"}},[e._v(" Item 2 ")])]),t(j.Z,[t(z.Z,{staticClass:"px-0 py-0"},[t(U.Z,[t(F.EB,[e._v(" Ensayos "),t(pe.Z,{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t(g.Z),t(te.Z,{attrs:{label:"buscador","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),t(g.Z),t(me.Z,{attrs:{"max-width":"1000px",persistent:""},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:o}){return[t(c.Z,e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",o,!1),a),[e._v(" Nuevo Item ")])]}}]),model:{value:e.dialogItem2,callback:function(t){e.dialogItem2=t},expression:"dialogItem2"}},[t(U.Z,[t(F.EB,[e._v(" ENSAYOS "),t(g.Z),t(te.Z,{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),t(de.Z,{attrs:{headers:e.encabezadoEnsayo,items:e.ensayos2,search:e.search,"item-key":"ensayos"},scopedSlots:e._u([{key:"item.actions",fn:function({item:a}){return[t(c.Z,{attrs:{color:"black",icon:""},on:{click:function(t){return e.ensayoCotizacion2(a)}}},[t("font-awesome-icon",{staticStyle:{"font-size":"20px"},attrs:{icon:"fa-solid fa-plus"}})],1)]}}],null,!0)}),t(F.h7,[t(g.Z),t(c.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cerrar ")])],1)],1)],1)],1),t(de.Z,{attrs:{headers:e.encabezado,items:e.segundoItem},scopedSlots:e._u([{key:"item.actions",fn:function({item:a}){return[t(u.Z,{on:{click:function(t){return e.eliminarCotizacion2(a)}}},[e._v(" mdi-delete ")])]}}],null,!0)})],1)],1)],1),t(j.Z,{attrs:{id:"border"}},[t("h5",{staticClass:"primary text-center white--text",staticStyle:{width:"100%"}},[e._v(" Item 3 ")])]),t(j.Z,[t(z.Z,{staticClass:"px-0 py-0"},[t(U.Z,[t(F.EB,[e._v(" Ensayos "),t(pe.Z,{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t(g.Z),t(te.Z,{attrs:{label:"buscador","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),t(g.Z),t(me.Z,{attrs:{"max-width":"1000px",persistent:""},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:o}){return[t(c.Z,e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",o,!1),a),[e._v(" Nuevo Item ")])]}}]),model:{value:e.dialogItem3,callback:function(t){e.dialogItem3=t},expression:"dialogItem3"}},[t(U.Z,[t(F.EB,[e._v(" ENSAYOS "),t(g.Z),t(te.Z,{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),t(de.Z,{attrs:{headers:e.encabezadoEnsayo,items:e.ensayos3,search:e.search,"item-key":"ensayos"},scopedSlots:e._u([{key:"item.actions",fn:function({item:a}){return[t(c.Z,{attrs:{color:"black",icon:""},on:{click:function(t){return e.ensayoCotizacion3(a)}}},[t("font-awesome-icon",{staticStyle:{"font-size":"20px"},attrs:{icon:"fa-solid fa-plus"}})],1)]}}],null,!0)}),t(F.h7,[t(g.Z),t(c.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cerrar ")])],1)],1)],1)],1),t(de.Z,{attrs:{headers:e.encabezado,items:e.tercerItem},scopedSlots:e._u([{key:"item.actions",fn:function({item:a}){return[t(u.Z,{on:{click:function(t){return e.eliminarCotizacion3(a)}}},[e._v(" mdi-delete ")])]}}],null,!0)})],1)],1)],1),t(j.Z,[0==this.$store.state.cotizacionVer?t(c.Z,{staticClass:"ml-4 my-6 primary",on:{click:e.cotizacion}},[e._v(" subir cotización ")]):t(c.Z,{staticClass:"ml-4 my-6",on:{click:e.modificarCotizacion}},[e._v(" editar cotización ")]),t(g.Z),t(te.Z,{staticClass:"pr-2 my-6 py-0",attrs:{label:"Observaciones"},model:{value:e.observacion,callback:function(t){e.observacion=t},expression:"observacion"}}),t(g.Z),t(te.Z,{staticClass:"pr-2 my-6 py-0",attrs:{type:"number",label:"Descuento Global"},model:{value:e.descuento,callback:function(t){e.descuento=t},expression:"descuento"}})],1)],1)},xe=[];(0,re.UF)("eager"),(0,re.l7)("required",{...se.C1,message:"{_field_} no puede estar vacio"}),(0,re.l7)("email",{...se.Do,message:"Email must be valid"}),(0,re.l7)("min",{...se.VV,message:"El campo {_field_} debe tener {length} caracteres o más"}),(0,re.l7)("confirmed",{...se.GU,message:"El campo {_field_} debe coincidir con contraseña"});var ye={name:"PageCotizacion",components:{ValidationProvider:re.d_,ValidationObserver:re._j},data(){return{formato:"",search:"",myLoading:!0,dialogo:!1,encabezado:[{text:"Código de referencia",align:"start",sortable:!1,value:""},{text:"Descripción del ensayo",value:"descripcion",sortable:!1},{text:"unidades",value:"unidades",sortable:!1},{text:"Técnica analítica",value:"tecnica",sortable:!1},{text:"Método analítico",value:"metodo",sortable:!1},{text:"Límite de cuantificación",value:"limiteCuantificacion",sortable:!1},{text:"Costo del ensayo",value:"costo",sortable:!1},{text:"Acciones",value:"actions",sortable:!1}],primerItem:[],usuarios:[],person:{nombre:"",cc:"",direccion:"",ciudad:"",departamento:"",telefono:"",contacto:"",cargo:"",celularContacto:"",correoContacto:"",validezOferta:"",entregaResultados:"",elaborador:this.$store.state.elaborador.nombre,cargoElaborador:this.$store.state.elaborador.rol},rol:["administrador","cliente","director"],busqueda:"",Roles:"",dialog:!1,headers:[{text:"Nombre",align:"start",sortable:!1,value:"nombre"},{text:"Rol",value:"rol",sortable:!1},{text:"Acciones",value:"actions",sortable:!1}],ensayos1:[],ensayos2:[],ensayos3:[],encabezadoEnsayo:[{text:"Fecha de Analisis",align:"start",sortable:!1,value:"name"},{text:"ensayo",value:"ensayo",sortable:!1},{text:"metodo",value:"metodo",sortable:!1},{text:"tecnica",value:"tecnica",sortable:!1},{text:"resultado",value:"resultado",sortable:!1},{text:"insertidumbre expandida",value:"insertidumbre expandida",sortable:!1},{text:"insertidumbre expandida",value:"insertidumbre expandida",sortable:!1},{text:"valor maximo",value:"valorMaximo",sortable:!1},{text:"valor minimo",value:"valorMinimo",sortable:!1},{text:"unidades",value:"unidades",sortable:!1},{text:"Acciones",value:"actions",sortable:!1}],id:"",ensa:"",descuento:null,observacion:"",limiteCuantificacion:null,item1:{itemsEnsayo:[]},fechaEmision:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),validezOferta:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),entregaResultados:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),menu2:!1,menu1:!1,dialogItem2:!1,segundoItem:[],item2:{itemsEnsayo:[]},dialogItem3:!1,tercerItem:[],item3:{itemsEnsayo:[]},encabezadoCotizacion:[{text:"Numero de cotización",align:"start",sortable:!1,value:"numCotizacion"},{text:"Fecha de emision",value:"fechaEmision",sortable:!1},{text:"Cliente",value:"idCliente",sortable:!1},{text:"Validez de la oferta",value:"validezOferta",sortable:!1},{text:"Entrega de resultados",value:"entregaResultados",sortable:!1},{text:"Elaborador",value:"idElaboradoPor",sortable:!1},{text:"Items",value:"items",sortable:!1},{text:"Observaciones",value:"observaciones",sortable:!1},{text:"Sub Total",value:"subTotal",sortable:!1},{text:"Descuento",value:"descuento",sortable:!1},{text:"Iva",value:"iva",sortable:!1},{text:"Total",value:"total",sortable:!1},{text:"Estado",value:"estado",sortable:!1},{text:"Acciones",value:"actions",sortable:!1}],numeroCotizacion:"XXXX-XXXXVX",cotizaciones:[],idCotizacionEditar:"",dialogCotizacion:!1,dialogUser:!1,select:null,nombre:"",documento:"",direccion:"",departamento:"",ciudad:"",contacto:"",celularContacto:"",telefono:"",email:"",password:"",confirmation:"",roll:"",items:["Natural","Jurídica"],roles:["cliente","secretario","administrador","director","especialista","supervisor"],departa:[],ciudades:[]}},computed:{buscar(){return this.usuarios.filter((e=>{const t=e.nombre.toLowerCase(),a=e.rol.toLowerCase(),o=this.busqueda.toLowerCase();return t.includes(o)||a.includes(o)}))}},methods:{traerClientes(){J().get("https://labficat.herokuapp.com/api/usuario").then((e=>{this.myLoading=!1;for(let t=0;t<e.data.usuario.length;t++){const a=e.data.usuario[t];1==a.estado&&this.usuarios.push(a)}})).catch((e=>{console.log(e)}))},traerCotizaciones(){J().get("https://labficat.herokuapp.com/api/cotizacion").then((e=>{this.cotizaciones=e.data.cotizacion})).catch((e=>{console.log(e)}))},llenarInfo(e){this.id=e._id,this.person.nombre=e.nombre,this.person.cc=e.documento,this.person.direccion=e.direccion,this.person.ciudad=e.ciudad.Ciudad,this.person.departamento=e.ciudad.departamento,this.person.telefono=e.telefono,this.person.contacto=e.contacto,this.person.celularContacto=e.celularContacto,this.person.cargo=e.rol,this.person.correoContacto=e.correo},modificarCotizacion(){J().put(`https://labficat.herokuapp.com/api/cotizacion/modificar/${this.idCotizacionEditar}`,{fechaEmision:this.fechaEmision,idCliente:this.id,validezOferta:this.validezOferta,entregaResultados:this.entregaResultados,idElaboradoPor:this.$store.state.elaborador.id,items:{item1:this.item1,item2:this.item2,item3:this.item3},observaciones:this.observacion,descuento:this.descuento}).then((e=>{console.log(e.data.cotizacion),this.$swal({icon:"success",title:"Actualización de la cotización exitoso"}),this.idCotizacionEditar="",this.vaciarInformacion()})).catch((e=>{console.log(e),this.$swal({icon:"error",title:"Error en la actualizacion de la cotización"})}))},ensayoCotizacion(e){let t=null,a=null,o=null;t=this.primerItem.find((t=>t._id==e._id)),a=this.segundoItem.find((t=>t._id==e._id)),o=this.tercerItem.find((t=>t._id==e._id)),void 0==t&&void 0==a&&void 0==o?(this.primerItem.push(e),this.item1.itemsEnsayo.push({ensayo:e._id,limiteCuantificacion:e.limiteCuantificacion,costoEnsayo:e.costo})):this.$swal({icon:"error",title:"No se puede agregar un ensayo que ya has seleccionado"})},ensayoCotizacion2(e){let t=null,a=null,o=null;t=this.primerItem.find((t=>t._id==e._id)),a=this.segundoItem.find((t=>t._id==e._id)),o=this.tercerItem.find((t=>t._id==e._id)),void 0==t&&void 0==a&&void 0==o?(this.segundoItem.push(e),this.item2.itemsEnsayo.push({ensayo:e._id,limiteCuantificacion:e.limiteCuantificacion,costoEnsayo:e.costo})):this.$swal({icon:"error",title:"No se puede agregar un ensayo que ya has seleccionado"})},ensayoCotizacion3(e){let t=null,a=null,o=null;t=this.primerItem.find((t=>t._id==e._id)),a=this.segundoItem.find((t=>t._id==e._id)),o=this.tercerItem.find((t=>t._id==e._id)),void 0==t&&void 0==a&&void 0==o?(this.tercerItem.push(e),this.item3.itemsEnsayo.push({ensayo:e._id,limiteCuantificacion:e.limiteCuantificacion,costoEnsayo:e.costo})):this.$swal({icon:"error",title:"No se puede agregar un ensayo que ya has seleccionado"})},cotizacion(){J().post("https://labficat.herokuapp.com/api/cotizacion",{fechaEmision:this.fechaEmision,idCliente:this.id,validezOferta:this.validezOferta,entregaResultados:this.entregaResultados,idElaboradoPor:this.$store.state.elaborador.id,items:{item1:this.item1,item2:this.item2,item3:this.item3},observaciones:this.observacion,descuento:this.descuento}).then((e=>{this.$swal({icon:"success",title:"Registro de la cotización exitoso"}),console.log(e.data),this.vaciarInformacion()})).catch((e=>{this.$swal({icon:"error",title:"Error al registrar la cotización"}),console.log(e)}))},infoCotizacionEditar(){if(0!=this.$store.state.cotizacionVer){this.item1.itemsEnsayo=this.$store.state.cotizacionEditar.items.item1.itemsEnsayo,this.item2.itemsEnsayo=this.$store.state.cotizacionEditar.items.item2.itemsEnsayo,this.item3.itemsEnsayo=this.$store.state.cotizacionEditar.items.item3.itemsEnsayo,this.idCotizacionEditar=this.$store.state.cotizacionEditar._id,this.id=this.$store.state.cotizacionEditar.idCliente._id,this.person.nombre=this.$store.state.cotizacionEditar.idCliente.nombre,this.person.cc=this.$store.state.cotizacionEditar.idCliente.documento,this.person.direccion=this.$store.state.cotizacionEditar.idCliente.direccion,this.person.ciudad=this.$store.state.cotizacionEditar.idCliente.ciudad.Ciudad,this.person.departamento=this.$store.state.cotizacionEditar.idCliente.ciudad.departamento,this.person.telefono=this.$store.state.cotizacionEditar.idCliente.telefono,this.person.contacto=this.$store.state.cotizacionEditar.idCliente.contacto,this.person.cargo=this.$store.state.cotizacionEditar.idCliente.rol,this.person.celularContacto=this.$store.state.cotizacionEditar.idCliente.celularContacto,this.person.correoContacto=this.$store.state.cotizacionEditar.idCliente.correo,this.descuento=this.$store.state.cotizacionEditar.descuento,this.observacion=this.$store.state.cotizacionEditar.observaciones,this.numeroCotizacion=this.$store.state.cotizacionEditar.numCotizacion;for(let e=0;e<this.$store.state.cotizacionEditar.items.item1.itemsEnsayo.length;e++){const t=this.$store.state.cotizacionEditar.items.item1.itemsEnsayo[e];this.primerItem.push(t.ensayo)}for(let e=0;e<this.$store.state.cotizacionEditar.items.item2.itemsEnsayo.length;e++){const t=this.$store.state.cotizacionEditar.items.item2.itemsEnsayo[e];this.segundoItem.push(t.ensayo)}for(let e=0;e<this.$store.state.cotizacionEditar.items.item3.itemsEnsayo.length;e++){const t=this.$store.state.cotizacionEditar.items.item3.itemsEnsayo[e];this.tercerItem.push(t.ensayo)}}},eliminarCotizacion1(e){this.primerItem.splice(e,1),this.item1.itemsEnsayo.splice(e,1),console.log(this.item1)},eliminarCotizacion2(e){this.segundoItem.splice(e,1),this.item2.itemsEnsayo.splice(e,1),console.log(this.item2)},eliminarCotizacion3(e){this.tercerItem.splice(e,1),this.item3.itemsEnsayo.splice(e,1),console.log(this.item3)},traerEnsayos(){J().get("https://labficat.herokuapp.com/api/ensayo").then((e=>{this.ensayos1=e.data.ensayos,this.ensayos2=e.data.ensayos,this.ensayos3=e.data.ensayos})).catch((e=>{console.log(e)}))},vaciarInformacion(){this.primerItem.splice(0,this.primerItem.length),this.segundoItem.splice(0,this.segundoItem.length),this.tercerItem.splice(0,this.tercerItem.length),this.id="",this.validezOferta=new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),this.entregaResultados=new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),this.descuento=null,this.observacion="",this.item1.itemsEnsayo.splice(0,this.item1.itemsEnsayo.length),this.item2.itemsEnsayo.splice(0,this.item2.itemsEnsayo.length),this.item3.itemsEnsayo.splice(0,this.item3.itemsEnsayo.length),this.person.nombre="",this.person.cc="",this.person.direccion="",this.person.ciudad="",this.person.departamento="",this.person.telefono="",this.person.contacto="",this.person.celularContacto="",this.person.cargo="",this.person.correoContacto=""},close(){this.dialog=!1,this.dialogItem2=!1,this.dialogItem3=!1,this.dialogCotizacion=!1,this.dialogUser=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))},traerDepartamentos(){J().get("https://labficat.herokuapp.com/api/ciudad/departamentos").then((e=>{console.log(e.data.departamentos),this.departa=e.data.departamentos,console.log(this.departa),console.log("hola")})).catch((e=>{console.log(e)}))},traerCiudades(e){console.log(e),J().post("https://labficat.herokuapp.com/api/ciudad/nombreDepartamento",{departamento:this.departamento}).then((e=>{console.log(e.data.ciudades),this.ciudades=e.data.ciudades,console.log(this.ciudades)})).catch((e=>{console.log(e)}))},registrar(){J().post("https://labficat.herokuapp.com/api/usuario",{tipoPersona:this.select,nombre:this.nombre,documento:this.documento,direccion:this.direccion,ciudad:this.ciudad,contacto:this.contacto,celularContacto:this.celularContacto,telefono:this.telefono,correo:this.email,password:this.password,rol:this.roll}).then((e=>{console.log(e.data),this.$swal({icon:"success",title:"Registro exitoso",text:`${e.data.usuario.nombre} registrado exitosamente`})})).catch((e=>{console.log(e),this.$swal({icon:"error",title:"Error al registrar el usuario"})}))},traerCalidad(){J().post("https://labficat.herokuapp.com/api/calidad/formato",{nombre:"Oferta de Servicios"}).then((e=>{console.log(e.data.calidad),this.formato=e.data.calidad})).catch((e=>{console.log(e)}))}},created(){this.traerClientes(),this.traerEnsayos(),this.traerCotizaciones(),this.infoCotizacionEditar(),this.traerCalidad()},destroyed(){this.vaciarInformacion(),console.log("hola")}},Ce=ye,_e=(0,k.Z)(Ce,ge,xe,!1,null,"5de24c6a",null),Ze=_e.exports,ke=function(){var e=this,t=e._self._c;return t(d.Z,{attrs:{fluid:""}},[t(j.Z,[t(z.Z,{staticClass:"py-1",attrs:{cols:"2",align:"center"}},[t(he.Z,{attrs:{width:"130",height:"120",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/8/83/Sena_Colombia_logo.svg/1200px-Sena_Colombia_logo.svg.png"}})],1),t(z.Z,{staticClass:"mx-0 my-0 py-0 px-0",attrs:{cols:"10"}},[t(j.Z,{staticClass:"texto"},[t("h3",[e._v("Recepcion Muestras")])]),t(j.Z,{staticClass:"texto"},[t("p",{staticClass:"font-weight-black mb-0"},[e._v(" CENTRO AGROTURÍSTICO – SAN GIL, SANTANDER "),t("br"),e._v(" LABORATORIO LABFICAT ")])]),t(j.Z,{staticClass:"mx-0 my-0 px-0 py-0"},[t(z.Z,{staticClass:"justificar px-0 py-0",attrs:{cols:"5"}},[t("p",{staticClass:"font-weight-black mb-0",staticStyle:{border:"1px solid black"}},[e._v(" CÓDIGO "),t("br"),e._v(" "+e._s(e.formato[0].codigo)+" ")])]),t(z.Z,{attrs:{cols:"5 px-0 py-0"}},[t("p",{staticClass:"justificar font-weight-black mb-0",staticStyle:{border:"1px solid black"}},[e._v(" APROBACIÓN "),t("br"),e._v(" "+e._s(e.formato[0].aprobacion)+" ")])]),t(z.Z,{attrs:{cols:"2 px-0 py-0"}},[t("p",{staticClass:"justificar font-weight-black mb-0",staticStyle:{border:"1px solid black"}},[e._v(" VERSIÓN: "),t("br"),e._v(" "+e._s(e.formato[0].version)+" ")])])],1)],1)],1),t(j.Z,[t("h5",{staticClass:"primary text-center white--text",staticStyle:{width:"100%"}},[e._v(" Datos del solicitante ")])]),t(j.Z,[t(z.Z,{staticClass:"py-0 px-0",attrs:{cols:"6"}},[t(j.Z,[t(z.Z,{staticClass:"text-center px-0",attrs:{cols:"4"}},[t("p",{staticClass:"label mb-0",attrs:{for:"Name"}},[e._v(" Solicitante "),t(me.Z,{attrs:{persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:o}){return[t(c.Z,e._g(e._b({staticClass:"field",attrs:{icon:""}},"v-btn",o,!1),a),[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-user"}})],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(U.Z,[t(j.Z,[t(z.Z,[t(U.Z,[t(F.EB,[e._v(" Usuarios "),t(pe.Z,{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t(g.Z),t(te.Z,{attrs:{label:"buscar por nombre o por rol","single-line":"","hide-details":""},model:{value:e.busqueda,callback:function(t){e.busqueda=t},expression:"busqueda"}})],1),t(de.Z,{attrs:{headers:e.headerUsuarios,items:e.buscar,loading:e.myLoading,"loading-text":"Cargando... Por favor espera"},scopedSlots:e._u([{key:"item.actions",fn:function({item:a}){return[t(c.Z,{attrs:{icon:""},on:{click:function(t){return e.llenarInfo(a)}}},[t("font-awesome-icon",{staticStyle:{"font-size":"20px"},attrs:{icon:"fa-solid fa-plus"}})],1)]}}],null,!0)})],1)],1)],1),t(F.h7,[t(g.Z),t(c.Z,{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.dialog=!1}}},[e._v(" Close ")])],1)],1)],1)],1),t("p",{staticClass:"label mb-0",attrs:{for:"Name"}},[e._v("NIT/C.C.")]),t("p",{staticClass:"label mb-0",attrs:{for:"Name"}},[e._v("Dirección")]),t("p",{staticClass:"label mb-0",attrs:{for:"Name"}},[e._v("Ciudad")])]),t(z.Z,{staticClass:"pl-0",attrs:{cols:"8"}},[t(te.Z,{staticClass:"field px-0 py-0 my-0",attrs:{height:"26"},model:{value:e.person.nombre,callback:function(t){e.$set(e.person,"nombre",t)},expression:"person.nombre"}}),t(te.Z,{staticClass:"field px-0 py-0 my-0",attrs:{height:"26"},model:{value:e.person.cc,callback:function(t){e.$set(e.person,"cc",t)},expression:"person.cc"}}),t(te.Z,{staticClass:"field px-0 py-0 my-0",attrs:{height:"26"},model:{value:e.person.direccion,callback:function(t){e.$set(e.person,"direccion",t)},expression:"person.direccion"}}),t(te.Z,{staticClass:"field px-0 py-0 my-0",attrs:{height:"26"},model:{value:e.person.ciudad,callback:function(t){e.$set(e.person,"ciudad",t)},expression:"person.ciudad"}})],1)],1)],1),t(z.Z,{staticClass:"py-0 px-0",attrs:{cols:"6"}},[t(j.Z,[t(z.Z,{staticClass:"text-center px-0",attrs:{cols:"4"}},[t("p",{staticClass:"label mb-0",attrs:{for:"Name"}},[e._v("Departamento")]),t("p",{staticClass:"label mb-0",attrs:{for:"Name"}},[e._v("Contacto")]),t("p",{staticClass:"label mb-0",attrs:{for:"Name"}},[e._v("Teléfono")]),t("p",{staticClass:"label mb-0",attrs:{for:"Name"}},[e._v("Correo Electrónico")])]),t(z.Z,{staticClass:"pl-0",attrs:{cols:"8"}},[t(te.Z,{staticClass:"field px-0 py-0 my-0",attrs:{height:"26"},model:{value:e.person.departamento,callback:function(t){e.$set(e.person,"departamento",t)},expression:"person.departamento"}}),t(te.Z,{staticClass:"field px-0 py-0 my-0",attrs:{height:"26"},model:{value:e.person.contacto,callback:function(t){e.$set(e.person,"contacto",t)},expression:"person.contacto"}}),t(te.Z,{staticClass:"field px-0 py-0 my-0",attrs:{height:"26"},model:{value:e.person.telefono,callback:function(t){e.$set(e.person,"telefono",t)},expression:"person.telefono"}}),t(te.Z,{staticClass:"field px-0 py-0 my-0",attrs:{height:"26"},model:{value:e.person.correo,callback:function(t){e.$set(e.person,"correo",t)},expression:"person.correo"}})],1)],1)],1)],1),t(j.Z,[t("h5",{staticClass:"primary text-center white--text",staticStyle:{width:"100%"}},[e._v(" Datos de la Muestra ")])]),t(j.Z,[t(z.Z,{staticClass:"px-0 py-0"},[t(U.Z,[t(F.EB,[t(te.Z,{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),t(g.Z),t(me.Z,{attrs:{"max-width":"1000px",persistent:""},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:o}){return[t(c.Z,e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:e.comprobarCotizaciones}},"v-btn",o,!1),a),[e._v(" Nueva Muestra ")])]}}]),model:{value:e.dialogEnsayo,callback:function(t){e.dialogEnsayo=t},expression:"dialogEnsayo"}},[t(U.Z,[t(F.EB,[t(fe.Z,{scopedSlots:e._u([{key:"default",fn:function({hover:a}){return[t(c.Z,{style:{color:a?"red":""},attrs:{icon:""},on:{click:e.close}},[t("font-awesome-icon",{staticStyle:{fontSize:"20px"},attrs:{icon:"fa-solid fa-xmark"}})],1)]}}])}),e._v(" Formulario de muestras ")],1),t("validationObserver",{ref:"observer",scopedSlots:e._u([{key:"default",fn:function({invalid:a}){return[t("form",{staticClass:"py-7 px-7",on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[t("validation-provider",{attrs:{name:"departamento",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(be.Z,{attrs:{items:e.departa,"item-text":"departamento","item-key":"departa","item-value":"_id","error-messages":a,outlined:"",label:"Departamento","data-vv-name":"departamento",required:""},on:{change:function(t){return e.traerCiudades(e.departa)}},model:{value:e.departamento,callback:function(t){e.departamento=t},expression:"departamento"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"ciudad",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(be.Z,{attrs:{items:e.ciudades,"item-text":"Ciudad","item-key":"ciudades","item-value":"_id","error-messages":a,outlined:"",label:"Ciudad","data-vv-name":"ciudad",required:""},model:{value:e.muestra.ciudad,callback:function(t){e.$set(e.muestra,"ciudad",t)},expression:"muestra.ciudad"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"direccion toma de la muestra",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"Direccion toma de la muestra",outlined:"",required:""},model:{value:e.muestra.direccionTomaMuestra,callback:function(t){e.$set(e.muestra,"direccionTomaMuestra",t)},expression:"muestra.direccionTomaMuestra"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"lugar toma de la muestra",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"lugar toma de la muestra",outlined:"",required:""},model:{value:e.muestra.lugarTomaMuestra,callback:function(t){e.$set(e.muestra,"lugarTomaMuestra",t)},expression:"muestra.lugarTomaMuestra"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"recolectador",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"recolectador",outlined:"",required:""},model:{value:e.muestra.muestraRecolectadaPor,callback:function(t){e.$set(e.muestra,"muestraRecolectadaPor",t)},expression:"muestra.muestraRecolectadaPor"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"procedimiento de muestreo",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"procedimiento de muestreo",outlined:"",required:""},model:{value:e.muestra.procedimientoMuestreo,callback:function(t){e.$set(e.muestra,"procedimientoMuestreo",t)},expression:"muestra.procedimientoMuestreo"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"tipo de muestra",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(be.Z,{attrs:{items:e.tipoMuestras,"item-text":"tipos","item-key":"tipoMuestras","item-value":"_id","error-messages":a,outlined:"",label:"tipo de muestra","data-vv-name":"departamento",required:""},model:{value:e.muestra.tipoMuestra,callback:function(t){e.$set(e.muestra,"tipoMuestra",t)},expression:"muestra.tipoMuestra"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"matriz de la muestra",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"matriz muestra",outlined:"",required:""},model:{value:e.muestra.matrizMuestra,callback:function(t){e.$set(e.muestra,"matrizMuestra",t)},expression:"muestra.matrizMuestra"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"fecha recoleccion",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(ve.Z,{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto","error-messages":a},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:o}){return[t(te.Z,e._g(e._b({staticClass:"field px-0 py-0 my-0",attrs:{"prepend-icon":"mdi-calendar",readonly:"",height:"26"},model:{value:e.muestra.fechaRecoleccion,callback:function(t){e.$set(e.muestra,"fechaRecoleccion",t)},expression:"muestra.fechaRecoleccion"}},"v-text-field",o,!1),a))]}}],null,!0),model:{value:e.menu1,callback:function(t){e.menu1=t},expression:"menu1"}},[t(ue.Z,{on:{input:function(t){e.menu1=!1}},model:{value:e.muestra.fechaRecoleccion,callback:function(t){e.$set(e.muestra,"fechaRecoleccion",t)},expression:"muestra.fechaRecoleccion"}})],1)]}}],null,!0)}),t("validation-provider",{attrs:{name:"cotizacion",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(be.Z,{attrs:{items:e.cotizacion,"item-text":"numCotizacion","item-key":"cotizacion","item-value":"_id","error-messages":a,outlined:"",label:"cotizacion","data-vv-name":"numCotizacion",required:""},on:{change:function(t){return e.itemCotizacion(e.muestra.cotizacion)}},model:{value:e.muestra.cotizacion,callback:function(t){e.$set(e.muestra,"cotizacion",t)},expression:"muestra.cotizacion"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"item",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(be.Z,{attrs:{items:e.item,"error-messages":a,outlined:"",label:"Item","data-vv-name":"item",required:""},model:{value:e.muestra.item,callback:function(t){e.$set(e.muestra,"item",t)},expression:"muestra.item"}})]}}],null,!0)}),t(c.Z,{staticClass:"mr-4",attrs:{color:"primary",type:"submit",disabled:a,rounded:""},on:{click:e.tablaMuestra}},[e._v(" Agregar ")])],1)]}}])}),t(F.h7,[t(fe.Z,{scopedSlots:e._u([{key:"default",fn:function({hover:a}){return[t(c.Z,{staticClass:"ml-5",style:{background:a?"red":""},attrs:{text:""},on:{click:e.close}},[e._v(" Cerrar ")])]}}])})],1)],1)],1)],1),t(de.Z,{attrs:{headers:e.headers,items:e.mostrarMuestras,search:e.search},scopedSlots:e._u([{key:"footer",fn:function(){return[t(U.Z,{staticClass:"d-flex justify-end"})]},proxy:!0}])})],1)],1)],1),t(j.Z,[0==this.$store.state.muestraVer?t(c.Z,{staticClass:"mr-4",attrs:{color:"primary my-6",type:"submit",rounded:""},on:{click:e.ingresarMuestra}},[e._v(" Registrar muestra ")]):t(c.Z,{staticClass:"mr-4",attrs:{color:"primary my-6",type:"submit",rounded:""},on:{click:e.modificarMuestra}},[e._v(" Modificar muestra ")])],1),t(z.Z,{staticClass:"py-0 px-0",attrs:{cols:"12"}},[t(j.Z,[t(z.Z,{staticClass:"text-center px-0",attrs:{cols:"12"}},[t("p",{staticClass:"label mb-0",attrs:{for:"Name"}},[e._v("Observaciones")])]),t(z.Z,{staticClass:"pl-0 px-0",attrs:{cols:"12"}},[t(te.Z,{staticClass:"field px-0 py-0 my-0",attrs:{height:"26"}})],1)],1)],1),t(j.Z,[t(z.Z,{staticClass:"py-0 px-0",attrs:{cols:"8"}},[t("h5",{staticClass:"primary text-center white--text px-0 py-0",staticStyle:{width:"100%"}},[e._v(" *Observaciones preestablecidas")])]),t(z.Z,{staticClass:"py-0 px-0",attrs:{cols:"4"}},[t("h5",{staticClass:"primary text-center white--text px-0 py-0",staticStyle:{width:"100%"}},[e._v(" Condiciones del servicio")])])],1),t(j.Z,[t(z.Z,{staticClass:"px-0 py-0",attrs:{cols:"1"}},[t("p",{staticClass:"texto font-weight-black"},[e._v(" 1 ")]),t("p",{staticClass:"texto font-weight-black"},[e._v(" 2 ")]),t("p",{staticClass:"texto font-weight-black"},[e._v(" 3 ")]),t("p",{staticClass:"texto font-weight-black"},[e._v(" 4 ")]),t("p",{staticClass:"texto font-weight-black"},[e._v(" 5 ")]),t("p",{staticClass:"texto font-weight-black"},[e._v(" 6 ")]),t("p",{staticClass:"texto font-weight-black"},[e._v(" 7 ")])]),t(z.Z,{staticClass:"px-0 py-0",attrs:{cols:"6"}},[t("p",{staticClass:"texto"},[e._v(" Recipientes de recolección inadecuados. ")]),t("p",{staticClass:"texto"},[e._v(" Envase roto, abierto o agujereado. ")]),t("p",{staticClass:"texto"},[e._v(" Evidencias visibles de microrganismos. ")]),t("p",{staticClass:"texto"},[e._v(" Evidencias de fermentación. ")]),t("p",{staticClass:"texto"},[e._v(" Cantidad de muestra sea insuficiente. ")]),t("p",{staticClass:"texto"},[e._v(" Falta de información o incongruencias en la identificación de los recipientes. ")]),t("p",{staticClass:"texto"},[e._v(" Otro (explique la situación presentada): ")])]),t(z.Z,{staticClass:"texto py-0 px-0",attrs:{cols:"5"}},[t("p",{staticClass:"servicio mb-0"},[e._v(" El solicitante al firmar la presente acta de recepción de muestras acepta lo siguiente: "),t("br"),e._v(" 1. Que a las muestras se le realicen todos los ensayos de acuerdo al ítem de la "),t("br"),e._v(" cotización indicado en el presente formato y los mismos sean reportados en el "),t("br"),e._v(" respectivo informe de resultados. "),t("br"),e._v(" 2. Que la totalidad de la información registrada a las muestras sea reportada en el "),t("br"),e._v(" respectivo informe de resultados. "),t("br"),e._v(" 3. Todas las observaciones y anexos descritos en el formato Oferta de servicios CAT– "),t("br"),e._v(" ST–OC–F–002 correspondiente a la versión de la cotización aceptada. ")])])],1),t(j.Z,{staticClass:"my-0"},[t(z.Z,{staticClass:"text-center px-0",attrs:{cols:"2"}},[t("p",{staticClass:"label mb-0",attrs:{for:"Name"}},[e._v("Quien entrega las muestras")]),t("p",{staticClass:"label mb-0",attrs:{for:"Name"}},[e._v("C.C.")]),t("p",{staticClass:"label mb-0",attrs:{for:"Name"}},[e._v("Firma")])]),t(z.Z,{staticClass:"px-0",attrs:{cols:"5"}},[t(te.Z,{staticClass:"field px-0 py-0 my-0",attrs:{height:"26"}}),t(te.Z,{staticClass:"field px-0 py-0 my-0",attrs:{height:"26"}}),t(te.Z,{staticClass:"field px-0 py-0 my-0",attrs:{height:"26"}})],1),t(z.Z,{staticClass:"text-center px-0",attrs:{cols:"3"}},[t("p",{staticClass:"label mb-0",attrs:{for:"Name"}},[e._v("Fecha y hora de recepción de muestras")]),t("p",{staticClass:"label mb-0",attrs:{for:"Name"}},[e._v("Quien recibe las muestras")]),t("p",{staticClass:"label mb-0",attrs:{for:"Name"}},[e._v("Firma")])]),t(z.Z,{staticClass:"px-0",attrs:{cols:"2"}},[t(te.Z,{staticClass:"field px-0 py-0 my-0",attrs:{height:"26"}}),t(te.Z,{staticClass:"field px-0 py-0 my-0",attrs:{height:"26"}}),t(te.Z,{staticClass:"field px-0 py-0 my-0",attrs:{height:"26"}})],1)],1)],1)},Ee=[];(0,re.UF)("eager"),(0,re.l7)("required",{...se.C1,message:"{_field_} no puede estar vacio"}),(0,re.l7)("email",{...se.Do,message:"Email must be valid"}),(0,re.l7)("min",{...se.VV,message:"El campo {_field_} debe tener {length} caracteres o más"}),(0,re.l7)("confirmed",{...se.GU,message:"El campo {_field_} debe coincidir con contraseña"});var Se={name:"PageRecepcion",components:{ValidationProvider:re.d_,ValidationObserver:re._j},data:()=>({myLoading:!0,dialog:!1,dialogEnsayo:!1,dialogEnsayoModificar:!1,loading:!1,headerUsuarios:[{text:"Nombre",align:"start",sortable:!0,value:"nombre"},{text:"Rol",value:"rol",sortable:!0},{text:"Acciones",value:"actions",sortable:!1}],formato:"",usuarios:[],departa:[],ciudades:[],departamento:"",tipoMuestras:[],cotizacion:[],mostrarMuestras:[],muestrasDelCliente:[],busqueda:"",person:{nombre:"",cc:"",direccion:"",ciudad:"",departamento:"",contacto:"",telefono:"",correo:"",id:""},muestra:{ciudad:"",direccionTomaMuestra:"",lugarTomaMuestra:"",muestraRecolectadaPor:"",procedimientoMuestreo:"",tipoMuestra:"",matrizMuestra:"",fechaRecoleccion:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),cotizacion:"",item:""},item:["Item1"],menu1:!1,headers:[{text:"Municipio de recolección",value:"munRecoleccion"},{text:"Dirección de toma de muestra",value:"direccionTomaMuestra"},{text:"Lugar de toma de muestra",value:"lugarTomaMuestra"},{text:"Muestra recolectada por",value:"muestraRecolectadaPor"},{text:"Procedimiento de muestreo",value:"procedimientoMuestreo"},{text:"Matriz de la muestra",value:"matrizMuestra"},{text:"Fecha y hora de recolección",value:"fechaRecoleccion"},{text:"Ítem de la cotización",value:"item"}]}),computed:{buscar(){return this.usuarios.filter((e=>{const t=e.nombre.toLowerCase(),a=e.documento.toLowerCase(),o=this.busqueda.toLowerCase(),s=e.rol.toLowerCase();return t.includes(o)||a.includes(o)||s.includes(o)}))}},methods:{traerDepartamentos(){J().get("https://labficat.herokuapp.com/api/ciudad/departamentos").then((e=>{this.departa=e.data.departamentos})).catch((e=>{console.log(e)}))},traerCiudades(){J().post("https://labficat.herokuapp.com/api/ciudad/nombreDepartamento",{departamento:this.departamento}).then((e=>{this.ciudades=e.data.ciudades})).catch((e=>{console.log(e)}))},traerTipoMuestras(){J().get("https://labficat.herokuapp.com/api/tipoMuestra").then((e=>{this.tipoMuestras=e.data.timuestra})).catch((e=>{console.log(e)}))},traerClientes(){J().get("https://labficat.herokuapp.com/api/usuario").then((e=>{for(let t=0;t<e.data.usuario.length;t++){const a=e.data.usuario[t];1==a.estado&&this.usuarios.push(a)}this.myLoading=!1})).catch((e=>{console.log(e)}))},ingresarMuestra(){J().post("https://labficat.herokuapp.com/api/muestra",{solicitante:this.person.id,munRecoleccion:this.muestra.ciudad,direccionTomaMuestra:this.muestra.direccionTomaMuestra,lugarTomaMuestra:this.muestra.lugarTomaMuestra,muestraRecolectadaPor:this.muestra.muestraRecolectadaPor,procedimientoMuestreo:this.muestra.procedimientoMuestreo,tipoMuestra:this.muestra.tipoMuestra,matrizMuestra:this.muestra.matrizMuestra,fechaRecoleccion:this.muestra.fechaRecoleccion,cotizacion:this.muestra.cotizacion,item:this.muestra.item}).then((e=>{console.log(e.data),this.$swal({icon:"success",title:"Registro exitoso de la muestra"}),this.vaciarInformacion()})).catch((e=>{console.log(e),this.$swal({icon:"error",title:"Error al registrar la muestra"})}))},modificarMuestra(){J().put(`https://labficat.herokuapp.com/api/muestra/${this.$store.state.muestraEditar._id}`,{solicitante:this.person.id,munRecoleccion:this.muestra.ciudad,direccionTomaMuestra:this.muestra.direccionTomaMuestra,lugarTomaMuestra:this.muestra.lugarTomaMuestra,muestraRecolectadaPor:this.muestra.muestraRecolectadaPor,procedimientoMuestreo:this.muestra.procedimientoMuestreo,tipoMuestra:this.muestra.tipoMuestra,matrizMuestra:this.muestra.matrizMuestra,fechaRecoleccion:this.muestra.fechaRecoleccion}).then((e=>{console.log(e.data.modificar),this.$swal({icon:"success",title:"Actualización de la muestra exitoso"}),this.$store.state.muestraEditar="",this.$store.state.muestraVer=!1,this.vaciarInformacion()})).catch((e=>{console.log(e),this.$swal({icon:"error",title:"Error al actualizar la muestra"})}))},vaciarInformacion(){this.mostrarMuestras.splice(0,this.mostrarMuestras.length),this.person.id="",this.muestra.ciudad="",this.muestra.direccionTomaMuestra="",this.muestra.lugarTomaMuestra="",this.muestra.muestraRecolectadaPor="",this.muestra.procedimientoMuestreo="",this.muestra.tipoMuestra="",this.muestra.matrizMuestra="",this.muestra.fechaRecoleccion=new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),this.muestra.cotizacion="",this.muestra.item="",this.person.id="",this.person.nombre="",this.person.cc="",this.person.direccion="",this.person.ciudad="",this.person.departamento="",this.person.telefono="",this.person.contacto="",this.person.correo=""},infoMuestraEditar(){1==this.$store.state.muestraVer&&(this.mostrarMuestras.push(this.$store.state.muestraEditar),this.person.id=this.$store.state.muestraEditar.solicitante._id,this.person.nombre=this.$store.state.muestraEditar.solicitante.nombre,this.person.cc=this.$store.state.muestraEditar.solicitante.documento,this.person.direccion=this.$store.state.muestraEditar.solicitante.direccion,this.person.ciudad=this.$store.state.muestraEditar.solicitante.ciudad.Ciudad,this.person.departamento=this.$store.state.muestraEditar.solicitante.ciudad.departamento,this.person.telefono=this.$store.state.muestraEditar.solicitante.telefono,this.person.contacto=this.$store.state.muestraEditar.solicitante.contacto,this.person.correo=this.$store.state.muestraEditar.solicitante.correo,J().post("https://labficat.herokuapp.com/api/cotizacion/cliente",{idCliente:this.person.id}).then((e=>{console.log(e.data.cotizacion),this.cotizacion=e.data.cotizacion,console.log(this.cotizacion)})).catch((e=>{console.log(e)})),J().post("https://labficat.herokuapp.com/api/muestra/cliente",{solicitante:this.person.id}).then((e=>{this.muestrasDelCliente=e.data.muestra,console.log(this.muestrasDelCliente)})).catch((e=>{console.log(e)})))},tablaMuestra(){this.$swal({icon:"success",title:"La información de la muestra fue cargada con éxito"}),this.mostrarMuestras.push({solicitante:this.person.id,munRecoleccion:this.departamento,direccionTomaMuestra:this.muestra.direccionTomaMuestra,lugarTomaMuestra:this.muestra.lugarTomaMuestra,muestraRecolectadaPor:this.muestra.muestraRecolectadaPor,procedimientoMuestreo:this.muestra.procedimientoMuestreo,tipoMuestra:this.muestra.tipoMuestra,matrizMuestra:this.muestra.matrizMuestra,fechaRecoleccion:this.muestra.fechaRecoleccion,item:this.muestra.item}),1==this.$store.state.muestraVer&&this.mostrarMuestras.splice(this.$store.state.muestraEditar,1)},llenarInfo(e){this.person.id=e._id,this.person.nombre=e.nombre,this.person.cc=e.documento,this.person.direccion=e.direccion,this.person.ciudad=e.ciudad.Ciudad,this.person.departamento=e.ciudad.departamento,this.person.telefono=e.telefono,this.person.contacto=e.contacto,this.person.correo=e.correo,J().post("https://labficat.herokuapp.com/api/cotizacion/cliente",{idCliente:this.person.id}).then((e=>{console.log(e.data.cotizacion),this.cotizacion=e.data.cotizacion,console.log(this.cotizacion)})).catch((e=>{console.log(e)})),J().post("https://labficat.herokuapp.com/api/muestra/cliente",{solicitante:this.person.id}).then((e=>{this.muestrasDelCliente=e.data.muestra,console.log(this.muestrasDelCliente)})).catch((e=>{console.log(e)}))},itemCotizacion(e){J().get(`https://labficat.herokuapp.com/api/cotizacion/idCotizacion/${e}`).then((e=>{console.log(e.data.cotizacion),e.data.cotizacion.items.item2.itemsEnsayo.length>0&&this.item.push("item2"),e.data.cotizacion.items.item2.itemsEnsayo.length>0&&this.item.push("item3")})).catch((e=>{console.log(e)}))},comprobarCotizaciones(){J().post("https://labficat.herokuapp.com/api/cotizacion/cliente",{idCliente:this.person.id}).then((e=>{console.log(e.data.cotizacion),e.data.cotizacion.length>0?this.$swal({icon:"success",title:`El usuario ${this.person.nombre} tiene cotizaciones a su nombre`}):this.$swal({icon:"error",title:`El usuario ${this.person.nombre} no tiene cotizaciones, proceda a crear una cotización`})})).catch((e=>{console.log(e)}))},close(){this.dialog=!1,this.dialogEnsayo=!1,this.dialogEnsayoModificar=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))},traerCalidad(){J().post("https://labficat.herokuapp.com/api/calidad/formato",{nombre:"Recepción de Muestras"}).then((e=>{console.log(e.data.calidad),this.formato=e.data.calidad})).catch((e=>{console.log(e)}))}},created(){this.traerClientes(),this.traerDepartamentos(),this.traerTipoMuestras(),this.infoMuestraEditar(),this.traerCalidad()},mounted(){}},ze=Se,we=(0,k.Z)(ze,ke,Ee,!1,null,"b76fab86",null),Me=we.exports,qe=function(){var e=this,t=e._self._c;return t(d.Z,{attrs:{fluid:""}},[t(j.Z,{staticClass:"my-12 justify-center text-center white--text pa-4 text-center"},[t(z.Z,{attrs:{cols:"8"}},[t(U.Z,{staticClass:"rounded-xl rounded-bl-0",attrs:{outlined:""}},[t("validation-observer",{ref:"observer",scopedSlots:e._u([{key:"default",fn:function({invalid:a}){return[t("form",{staticClass:"py-7 px-7",on:{submit:function(t){return t.preventDefault(),e.registrar.apply(null,arguments)}}},[t("validation-provider",{attrs:{name:"tipo de persona",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(be.Z,{attrs:{items:e.items,"error-messages":a,outlined:"",label:"Tipo de persona","data-vv-name":"tipo de persona",required:""},model:{value:e.select,callback:function(t){e.select=t},expression:"select"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"nombre",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"Nombre",outlined:"",required:""},model:{value:e.nombre,callback:function(t){e.nombre=t},expression:"nombre"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"documento",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"Documento",outlined:"",required:""},model:{value:e.documento,callback:function(t){e.documento=t},expression:"documento"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"dirección",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"Dirección",outlined:"",required:""},model:{value:e.direccion,callback:function(t){e.direccion=t},expression:"direccion"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"departamento",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(be.Z,{attrs:{items:e.departa,"item-text":"departamento","item-key":"departa","item-value":"_id","error-messages":a,outlined:"",label:"Departamento","data-vv-name":"departamento",required:""},on:{change:function(t){return e.traerCiudades(e.departa)}},model:{value:e.departamento,callback:function(t){e.departamento=t},expression:"departamento"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"ciudad",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(be.Z,{attrs:{items:e.ciudades,"item-text":"Ciudad","item-key":"ciudades","item-value":"_id","error-messages":a,outlined:"",label:"Cuidad","data-vv-name":"ciudad",required:""},model:{value:e.ciudad,callback:function(t){e.ciudad=t},expression:"ciudad"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"contacto",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"Contacto",outlined:"",required:""},model:{value:e.contacto,callback:function(t){e.contacto=t},expression:"contacto"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"teléfono del contacto",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"Telefono contacto",outlined:"",required:""},model:{value:e.celularContacto,callback:function(t){e.celularContacto=t},expression:"celularContacto"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"teléfono",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"Teléfono",outlined:"",required:""},model:{value:e.telefono,callback:function(t){e.telefono=t},expression:"telefono"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"Email",rules:"required|email"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"E-mail","prepend-icon":"mdi-email",outlined:"",required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"contraseña",vid:"password",rules:{required:!0,min:8}},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"Contraseña",type:"password",outlined:"","prepend-icon":"mdi-lock",required:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"confirmar contraseña",rules:"required|confirmed:password"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"confirmar contraseña",outlined:"",type:"password",required:""},model:{value:e.confirmation,callback:function(t){e.confirmation=t},expression:"confirmation"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"rol",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(be.Z,{attrs:{items:e.roles,"error-messages":a,outlined:"",label:"Roles","data-vv-name":"roles",required:""},model:{value:e.rol,callback:function(t){e.rol=t},expression:"rol"}})]}}],null,!0)}),t(c.Z,{staticClass:"mr-4",attrs:{color:"primary",type:"submit",disabled:a,rounded:"",block:""},on:{click:e.registrar}},[e._v(" Registrar ")])],1)]}}])})],1)],1)],1)],1)},$e=[];(0,re.UF)("eager"),(0,re.l7)("required",{...se.C1,message:"{_field_} no puede estar vacio"}),(0,re.l7)("email",{...se.Do,message:"Email must be valid"}),(0,re.l7)("min",{...se.VV,message:"El campo {_field_} debe tener {length} caracteres o más"}),(0,re.l7)("confirmed",{...se.GU,message:"El campo {_field_} debe coincidir con contraseña"});var Ie={name:"pageRegistro",components:{ValidationProvider:re.d_,ValidationObserver:re._j},data:()=>({select:null,nombre:"",documento:"",direccion:"",departamento:"",ciudad:"",contacto:"",celularContacto:"",telefono:"",email:"",password:"",confirmation:"",rol:"",items:["Natural","Jurídica"],roles:["cliente","secretario","administrador","director","especialista","supervisor"],departa:[],ciudades:[]}),methods:{traerDepartamentos(){J().get("https://labficat.herokuapp.com/api/ciudad/departamentos").then((e=>{console.log(e.data.departamentos),this.departa=e.data.departamentos,console.log(this.departa)})).catch((e=>{console.log(e)}))},traerCiudades(e){console.log(e),J().post("https://labficat.herokuapp.com/api/ciudad/nombreDepartamento",{departamento:this.departamento}).then((e=>{console.log(e.data.ciudades),this.ciudades=e.data.ciudades,console.log(this.ciudades)})).catch((e=>{console.log(e)}))},registrar(){J().post("https://labficat.herokuapp.com/api/usuario",{tipoPersona:this.select,nombre:this.nombre,documento:this.documento,direccion:this.direccion,ciudad:this.ciudad,contacto:this.contacto,celularContacto:this.celularContacto,telefono:this.telefono,correo:this.email,password:this.password,rol:this.rol}).then((e=>{console.log(e.data),this.$swal({icon:"success",title:"Registro exitoso",text:`${e.data.usuario.nombre} registrado exitosamente`})})).catch((e=>{console.log(e),this.$swal({icon:"error",title:"Error al registrar el usuario"})}))}},created(){this.traerDepartamentos()}},Re=Ie,De=(0,k.Z)(Re,qe,$e,!1,null,null,null),Te=De.exports,Oe=function(){var e=this,t=e._self._c;return t(d.Z,{attrs:{fluid:""}},[t(j.Z,[t(z.Z,{attrs:{cols:"6"}},[t(U.Z,{staticClass:"borde mx-auto rounded-xl rounded-tr-0",attrs:{"max-width":"344",outlined:""}},[t(p.Z,{staticClass:"text-center",attrs:{"three-line":""}},[t(v.km,[t("div",{staticClass:"text-overline mb-4"},[e._v("labficat")]),t(v.V9,{staticClass:"text-h5 mb-1"},[e._v(" SETUP ")]),t("font-awesome-icon",{staticClass:"mt-2",staticStyle:{"font-size":"25px"},attrs:{icon:"fa-solid fa-list-ol"}})],1)],1),t(F.h7,{staticClass:"boton"},[t(c.Z,{staticClass:"primary",attrs:{to:"setup",outlined:"",rounded:"",text:""}},[e._v(" INGRESAR ")])],1)],1)],1),t(z.Z,{attrs:{cols:"6"}},[t(U.Z,{staticClass:"borde mx-auto rounded-xl rounded-tr-0",attrs:{"max-width":"344",outlined:""}},[t(p.Z,{staticClass:"text-center",attrs:{"three-line":""}},[t(v.km,[t("div",{staticClass:"text-overline mb-4"},[e._v("labficat")]),t(v.V9,{staticClass:"text-h5 mb-1"},[e._v(" ENSAYOS ")]),t("font-awesome-icon",{staticClass:"mt-2",staticStyle:{"font-size":"25px"},attrs:{icon:"fa-solid fa-flask-vial"}})],1)],1),t(F.h7,{staticClass:"boton"},[t(c.Z,{staticClass:"primary",attrs:{to:"mostrarEnsayos",outlined:"",rounded:"",text:""}},[e._v(" INGRESAR ")])],1)],1)],1),t(z.Z,{attrs:{cols:"6"}},[t(U.Z,{staticClass:"borde mx-auto rounded-xl rounded-tr-0",attrs:{"max-width":"344",outlined:""}},[t(p.Z,{staticClass:"text-center",attrs:{"three-line":""}},[t(v.km,[t("div",{staticClass:"text-overline mb-4"},[e._v("labficat")]),t(v.V9,{staticClass:"text-h5 mb-1"},[e._v(" BITACORA ")]),t("font-awesome-icon",{staticClass:"mt-2",staticStyle:{"font-size":"25px"},attrs:{icon:"fa-solid fa-book-open"}})],1)],1),t(F.h7,{staticClass:"boton"},[t(c.Z,{staticClass:"primary",attrs:{to:"bitacora",outlined:"",rounded:"",text:""}},[e._v(" INGRESAR ")])],1)],1)],1),t(z.Z,{attrs:{cols:"6"}},[t(U.Z,{staticClass:"borde mx-auto rounded-xl rounded-tr-0",attrs:{"max-width":"344",outlined:""}},[t(p.Z,{staticClass:"text-center",attrs:{"three-line":""}},[t(v.km,[t("div",{staticClass:"text-overline mb-4"},[e._v("labficat")]),t(v.V9,{staticClass:"text-h5 mb-1"},[e._v(" CALIDAD ")]),t("font-awesome-icon",{staticClass:"mt-2",staticStyle:{"font-size":"25px"},attrs:{icon:"fa-solid fa-pen-to-square"}})],1)],1),t(F.h7,{staticClass:"boton"},[t(c.Z,{staticClass:"primary",attrs:{to:"calidad",outlined:"",rounded:"",text:""}},[e._v(" INGRESAR ")])],1)],1)],1)],1)],1)},Ne=[],Ae={name:"pageConfiguracion",data:()=>({}),methods:{}},Ve=Ae,Le=(0,k.Z)(Ve,Oe,Ne,!1,null,"6c348632",null),Pe=Le.exports,Ue=function(){var e=this,t=e._self._c;return t(d.Z,{staticStyle:{height:"100%"},attrs:{fluid:""}},[t(j.Z,[t(z.Z,{attrs:{cols:"2"}},[t(he.Z,{attrs:{width:"164",height:"162",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/8/83/Sena_Colombia_logo.svg/1200px-Sena_Colombia_logo.svg.png"}})],1),t(z.Z,{staticClass:"texto",attrs:{cols:"5"}},[t("h2",{staticClass:"mt-0 text-decoration-underline"},[e._v("Informe de resultados")]),t("p",{staticClass:"parrafo font-weight-black"},[e._v(" Laboratorio de Caracterización Fisicoquímica de Alimentos del Centro Agroturístico "),t("br"),e._v(" “LABFICAT” de San Gil, Santander "),t("br"),e._v(" 899.999.034 "),t("br"),e._v(" Dirección: Calle 22 No. 09 – 82, San Gil, Santander "),t("br"),e._v(" Teléfono: (607) 7248113 "),t("br"),e._v(" Correo electrónico: labficat@sena.edu.co Agroturístico ")])]),t(z.Z,{staticClass:"texto",attrs:{cols:"3"}},[t("h2",{staticClass:"mt-0 text-decoration-underline"},[e._v("Informe de resultados")]),t("h2",{staticClass:"mt-2 red--text"},[e._v("XXXX-AAAA")]),t(j.Z,[t(z.Z,{attrs:{cols:"6"}},[t("p",{staticClass:"parrafo font-weight-black"},[e._v(" Fecha y hora de recepción de la muestra: ")])]),t(z.Z,{attrs:{cols:"6"}},[t("p",{staticClass:"parrafo font-weight-black"},[e._v(" Fecha y hora de emisión del informe de resultados: ")])])],1),t(j.Z,{staticClass:"mx-0 my-0 px-0 py-0"},[t(z.Z,{staticClass:"px-0 py-0",attrs:{cols:"6"}},[t("p",{staticClass:"mt-2 red--text"},[e._v("AAAA-MM-DD; hh:mm")])]),t(z.Z,{staticClass:"px-0 py-0",attrs:{cols:"6"}},[t("p",{staticClass:"mt-2 red--text"},[e._v("AAAA-MM-DD; hh:mm")])])],1)],1),t(z.Z,{staticClass:"text-center",attrs:{cols:"2"}},[t("p",{staticClass:"parrafo font-weight-black"},[e._v(" Código "),t("br"),e._v(" "+e._s(e.informe[0].codigo)+" "),t("br"),e._v(" Aprobación "),t("br"),e._v(" "+e._s(e.informe[0].aprobacion)+" "),t("br"),t("br"),e._v(" Versión "),t("br"),e._v(" "+e._s(e.informe[0].version)+" ")])])],1),t(j.Z,[t("h5",{staticClass:"primary text-center white--text",staticStyle:{width:"100%"}},[e._v(" Datos del solicitante ")])]),t(j.Z,[t(z.Z,{staticClass:"py-0 px-0",attrs:{cols:"6"}},[t(j.Z,[t(z.Z,{staticClass:"text-center px-0",attrs:{cols:"4"}},[t("p",{staticClass:"label mb-0",attrs:{for:"Name"}},[e._v("Solicitante")]),t("p",{staticClass:"label mb-0",attrs:{for:"Name"}},[e._v("NIT / C.C.")]),t("p",{staticClass:"label mb-0",attrs:{for:"Name"}},[e._v("Dirección")]),t("p",{staticClass:"label mb-0",attrs:{for:"Name"}},[e._v("Ciudad")])]),t(z.Z,{staticClass:"pl-0",attrs:{cols:"8"}},[t(te.Z,{staticClass:"field px-0 py-0 my-0",attrs:{height:"26"},model:{value:e.person.nombre,callback:function(t){e.$set(e.person,"nombre",t)},expression:"person.nombre"}}),t(te.Z,{staticClass:"field px-0 py-0 my-0",attrs:{height:"26"},model:{value:e.person.cc,callback:function(t){e.$set(e.person,"cc",t)},expression:"person.cc"}}),t(te.Z,{staticClass:"field px-0 py-0 my-0",attrs:{height:"26"},model:{value:e.person.direccion,callback:function(t){e.$set(e.person,"direccion",t)},expression:"person.direccion"}}),t(te.Z,{staticClass:"field px-0 py-0 my-0",attrs:{height:"26"},model:{value:e.person.ciudad,callback:function(t){e.$set(e.person,"ciudad",t)},expression:"person.ciudad"}})],1)],1)],1),t(z.Z,{staticClass:"py-0 px-0",attrs:{cols:"6"}},[t(j.Z,[t(z.Z,{staticClass:"text-center px-0",attrs:{cols:"4"}},[t("p",{staticClass:"label mb-0",attrs:{for:"Name"}},[e._v("Departamento")]),t("p",{staticClass:"label mb-0",attrs:{for:"Name"}},[e._v("Contacto")]),t("p",{staticClass:"label mb-0",attrs:{for:"Name"}},[e._v("Teléfono")]),t("p",{staticClass:"label mb-0",attrs:{for:"Name"}},[e._v("Correo electrónico")])]),t(z.Z,{staticClass:"pl-0",attrs:{cols:"8"}},[t(te.Z,{staticClass:"field px-0 py-0 my-0",attrs:{height:"26"},model:{value:e.person.departamento,callback:function(t){e.$set(e.person,"departamento",t)},expression:"person.departamento"}}),t(te.Z,{staticClass:"field px-0 py-0 my-0",attrs:{height:"26"},model:{value:e.person.contacto,callback:function(t){e.$set(e.person,"contacto",t)},expression:"person.contacto"}}),t(te.Z,{staticClass:"field px-0 py-0 my-0",attrs:{height:"26"},model:{value:e.person.telefono,callback:function(t){e.$set(e.person,"telefono",t)},expression:"person.telefono"}}),t(te.Z,{staticClass:"field px-0 py-0 my-0",attrs:{height:"26"},model:{value:e.person.correo,callback:function(t){e.$set(e.person,"correo",t)},expression:"person.correo"}})],1)],1)],1)],1),t(j.Z,[t("h5",{staticClass:"primary text-center white--text",staticStyle:{width:"100%"}},[e._v(" Datos de la muestra ")])]),t(j.Z,[t(z.Z,{staticClass:"py-0 px-0",attrs:{cols:"6"}},[t(j.Z,[t(z.Z,{staticClass:"text-center px-0",attrs:{cols:"4"}},[t("p",{staticClass:"label mb-0",attrs:{for:"Name"}},[e._v("Mun de recolección")]),t("p",{staticClass:"label mb-0",attrs:{for:"Name"}},[e._v("Dirección de toma de muestra")]),t("p",{staticClass:"label mb-0",attrs:{for:"Name"}},[e._v("Lugar de toma de muestra")]),t("p",{staticClass:"label mb-0",attrs:{for:"Name"}},[e._v("Muestra recolectada por")])]),t(z.Z,{staticClass:"pl-0",attrs:{cols:"8"}},[t(te.Z,{staticClass:"field px-0 py-0 my-0",attrs:{height:"26"},model:{value:e.muestra.munRecoleccion,callback:function(t){e.$set(e.muestra,"munRecoleccion",t)},expression:"muestra.munRecoleccion"}}),t(te.Z,{staticClass:"field px-0 py-0 my-0",attrs:{height:"26"},model:{value:e.muestra.direccionTomaMuestra,callback:function(t){e.$set(e.muestra,"direccionTomaMuestra",t)},expression:"muestra.direccionTomaMuestra"}}),t(te.Z,{staticClass:"field px-0 py-0 my-0",attrs:{height:"26"},model:{value:e.muestra.lugarTomaMuestra,callback:function(t){e.$set(e.muestra,"lugarTomaMuestra",t)},expression:"muestra.lugarTomaMuestra"}}),t(te.Z,{staticClass:"field px-0 py-0 my-0",attrs:{height:"26"},model:{value:e.muestra.muestraRecolectadaPor,callback:function(t){e.$set(e.muestra,"muestraRecolectadaPor",t)},expression:"muestra.muestraRecolectadaPor"}})],1)],1)],1),t(z.Z,{staticClass:"py-0 px-0",attrs:{cols:"6"}},[t(j.Z,[t(z.Z,{staticClass:"text-center px-0",attrs:{cols:"4"}},[t("p",{staticClass:"label mb-0",attrs:{for:"Name"}},[e._v("Procedimiento de muestreo")]),t("p",{staticClass:"label mb-0",attrs:{for:"Name"}},[e._v("Tipo de muestra")]),t("p",{staticClass:"label mb-0",attrs:{for:"Name"}},[e._v("Matriz de la muestra")]),t("p",{staticClass:"label mb-0",attrs:{for:"Name"}},[e._v("Fecha y hora de recolección")])]),t(z.Z,{staticClass:"pl-0",attrs:{cols:"8"}},[t(te.Z,{staticClass:"field px-0 py-0 my-0",attrs:{height:"26"},model:{value:e.muestra.procedimientoMuestreo,callback:function(t){e.$set(e.muestra,"procedimientoMuestreo",t)},expression:"muestra.procedimientoMuestreo"}}),t(te.Z,{staticClass:"field px-0 py-0 my-0",attrs:{height:"26"},model:{value:e.muestra.tipoMuestra,callback:function(t){e.$set(e.muestra,"tipoMuestra",t)},expression:"muestra.tipoMuestra"}}),t(te.Z,{staticClass:"field px-0 py-0 my-0",attrs:{height:"26"},model:{value:e.muestra.matrizMuestra,callback:function(t){e.$set(e.muestra,"matrizMuestra",t)},expression:"muestra.matrizMuestra"}}),t(te.Z,{staticClass:"field px-0 py-0 my-0",attrs:{height:"26"},model:{value:e.muestra.fechaRecoleccion,callback:function(t){e.$set(e.muestra,"fechaRecoleccion",t)},expression:"muestra.fechaRecoleccion"}})],1)],1)],1)],1),t(j.Z,[t("h5",{staticClass:"primary text-center white--text",staticStyle:{width:"100%"}},[e._v(" Análisis de la muestra ")])]),t(j.Z,[t(z.Z,{staticClass:"px-0 py-0"},[t(U.Z,[t(F.EB,[t(te.Z,{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),t(g.Z),t(me.Z,{attrs:{persistent:"","max-width":"2000px"},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:o}){return[t(c.Z,e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",o,!1),a),[e._v(" Nuevo Ensayo ")])]}}]),model:{value:e.dialogEnsayoNuevo,callback:function(t){e.dialogEnsayoNuevo=t},expression:"dialogEnsayoNuevo"}},[t(U.Z,[t(F.EB,[e._v(" Ensayos "),t(pe.Z,{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t(g.Z),t(te.Z,{attrs:{label:"buscador","single-line":"","hide-details":""},model:{value:e.busqueda,callback:function(t){e.busqueda=t},expression:"busqueda"}})],1),t(de.Z,{attrs:{headers:e.headerOrden,items:e.orden},scopedSlots:e._u([{key:"item.actions",fn:function({item:a}){return[t(c.Z,{attrs:{color:"black",icon:""},on:{click:function(t){return e.infoOrden(a)}}},[t("font-awesome-icon",{staticStyle:{"font-size":"20px"},attrs:{icon:"fa-solid fa-plus"}})],1)]}}],null,!0)}),t(F.h7,[t(g.Z),t(c.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cerrar ")])],1)],1)],1)],1),t(de.Z,{attrs:{headers:e.headersEnsayo,items:e.ensayosMostrar,search:e.search},scopedSlots:e._u([{key:"footer",fn:function(){return[t(U.Z,{staticClass:"d-flex justify-end"})]},proxy:!0}])})],1)],1)],1),t(j.Z,{attrs:{margin:"12"}},[t("h5",{staticClass:"primary text-center white--text px-0 py-0",staticStyle:{width:"100%"}},[e._v(" Observaciones ")])]),t(j.Z,[t(z.Z,{staticClass:"pl-0 px-0 py-3 my-4",attrs:{cols:"12"}},[t(te.Z,{staticClass:"field px-0 py-0 my-0",attrs:{height:"26"}})],1)],1)],1)},Fe=[];(0,re.UF)("eager"),(0,re.l7)("required",{...se.C1,message:"{_field_} no puede estar vacio"}),(0,re.l7)("email",{...se.Do,message:"Email must be valid"}),(0,re.l7)("min",{...se.VV,message:"El campo {_field_} debe tener {length} caracteres o más"}),(0,re.l7)("confirmed",{...se.GU,message:"El campo {_field_} debe coincidir con contraseña"});var je={name:"PageInforme",components:{},data:()=>({informe:"",searchh:"",busqueda:"",dialogCliente:!1,dialogMuestra:!1,dialogEnsayoNuevo:!1,isLoading:!1,items:[],model:null,search:null,tab:null,usuarios:[],orden:[],person:{nombre:"",cc:"",direccion:"",ciudad:"",departamento:"",contacto:"",telefono:"",correo:"",id:""},muestra:{munRecoleccion:"",direccionTomaMuestra:"",lugarTomaMuestra:"",muestraRecolectadaPor:"",procedimientoMuestreo:"",tipoMuestra:"",matrizMuestra:"",fechaRecoleccion:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10)},headerMuestras:[{text:"Código de Muestra",align:"start",sortable:!1,value:"codMuestra"},{text:"Municipio de recolección",value:"munRecoleccion.departamento"},{text:"Dirección de toma de muestra",value:"direccionTomaMuestra"},{text:"Lugar de toma de muestra",value:"lugarTomaMuestra"},{text:"Muestra recolectada por",value:"muestraRecolectadaPor"},{text:"Procedimiento de muestreo",value:"procedimientoMuestreo"},{text:"Tipo de muestra",value:"tipoMuestra.tipos"},{text:"Matriz de la muestra",value:"matrizMuestra"},{text:"Fecha y hora de recolección",value:"fechaRecoleccion"},{text:"Cotización",value:"cotizacion"},{text:"Ítem de la cotización",value:"item"},{text:"Observaciones*"},{text:"Acciones",value:"actions"}],muestrasDelCliente:[],ensayos:{ensayo:"",metodo:"",tecnica:"",valorMinimo:"",valorMaximo:"",costo:null,descripcion:"",limiteCuantificacion:null,titular:"",suplente:""},headerUsuarios:[{text:"Nombre",align:"start",sortable:!1,value:"nombre"},{text:"Rol",value:"rol",sortable:!1},{text:"Acciones",value:"actions",sortable:!1}],headerOrden:[{text:"Codigo de muestra",align:"start",sortable:!1,value:"idMuestra.codMuestra"},{text:"estado",value:"estado",sortable:!1},{text:"item",value:"idMuestra.item",sortable:!1},{text:"Acciones",value:"actions",sortable:!1}],headersEnsayo:[{text:"Fecha de análisis",align:"start",sortable:!1},{text:"Ensayo",value:"ensayo",sortable:!1},{text:"Método",value:"metodo",sortable:!1},{text:"Técnica",value:"tecnica",sortable:!1},{text:"Resultado",value:"protein",sortable:!1},{text:"Incertidumbre expandida",value:"iron",sortable:!1},{text:"Valor Máximo NTC 1311:2009",value:"valorMaximo",sortable:!1},{text:"Valor Mínimo NTC 1311:2009",value:"valorMinimo",sortable:!1},{text:"Unidades",value:"unidades",sortable:!1}],ensayosMostrar:[]}),watch:{model(e){this.tab=null!=e?0:null},search(){this.items.length}},computed:{buscar(){return this.usuarios.filter((e=>{const t=e.nombre.toLowerCase(),a=e.documento.toLowerCase(),o=this.busqueda.toLowerCase();return t.includes(o)||a.includes(o)}))}},methods:{traerClientes(){J().get("https://labficat.herokuapp.com/api/usuario").then((e=>{this.usuarios=e.data.usuario,console.log(this.usuarios)})).catch((e=>{console.log(e)}))},llenarInfo(e){console.log(e),this.person.id=e._id,this.person.nombre=e.nombre,this.person.cc=e.documento,this.person.direccion=e.direccion,this.person.ciudad=e.ciudad.Ciudad,this.person.departamento=e.ciudad.departamento,this.person.telefono=e.telefono,this.person.contacto=e.contacto,this.person.correo=e.correo,J().post("https://labficat.herokuapp.com/api/muestra/cliente",{solicitante:this.person.id}).then((e=>{console.log(e.data.muestra),this.muestrasDelCliente=e.data.muestra})).catch((e=>{console.log(e)}))},llenarInfoMuestra(e){this.muestra.munRecoleccion=e.munRecoleccion.departamento,this.muestra.direccionTomaMuestra=e.direccionTomaMuestra,this.muestra.lugarTomaMuestra=e.lugarTomaMuestra,this.muestra.muestraRecolectadaPor=e.muestraRecolectadaPor,this.muestra.procedimientoMuestreo=e.procedimientoMuestreo,this.muestra.tipoMuestra=e.tipoMuestra.tipos,this.muestra.matrizMuestra=e.matrizMuestra,this.muestra.fechaRecoleccion=e.fechaRecoleccion},ensayoNuevo(){J().post("https://labficat.herokuapp.com/api/ensayo",{ensayo:this.ensayos.ensayo,metodo:this.ensayos.metodo,tecnica:this.ensayos.tecnica,valorMinimo:this.ensayos.valorMinimo,valorMaximo:this.ensayos.valorMaximo,costo:this.ensayos.costo,descripcion:this.ensayos.descripcion,limiteCuantificacion:this.ensayos.limiteCuantificacion,responsables:{titular:this.ensayos.titular,suplente:this.ensayos.suplente}}).then((e=>{console.log(e.data.ensayos),this.$swal({icon:"success",title:"Ensayo registrado exitosamente"})})).catch((e=>{console.log(e),this.$swal({icon:"error",title:"Error al registrar el ensayo"})}))},infoOrden(e){J().get(`https://labficat.herokuapp.com/api/orden/informeDeResultados/${e._id}`).then((e=>{console.log(e.data.informe),this.person.nombre=e.data.informe.idMuestra.solicitante.nombre,this.person.cc=e.data.informe.idMuestra.solicitante.documento,this.person.direccion=e.data.informe.idMuestra.solicitante.direccion,this.person.ciudad=e.data.informe.idMuestra.solicitante.ciudad.Ciudad,this.person.departamento=e.data.informe.idMuestra.solicitante.ciudad.departamento,this.person.contacto=e.data.informe.idMuestra.solicitante.contacto,this.person.telefono=e.data.informe.idMuestra.solicitante.telefono,this.person.correo=e.data.informe.idMuestra.solicitante.correo,this.muestra.munRecoleccion=e.data.informe.idMuestra.munRecoleccion.Ciudad,this.muestra.direccionTomaMuestra=e.data.informe.idMuestra.direccionTomaMuestra,this.muestra.lugarTomaMuestra=e.data.informe.idMuestra.lugarTomaMuestra,this.muestra.muestraRecolectadaPor=e.data.informe.idMuestra.muestraRecolectadaPor,this.muestra.procedimientoMuestreo=e.data.informe.idMuestra.procedimientoMuestreo,this.muestra.tipoMuestra=e.data.informe.idMuestra.tipoMuestra.tipos,this.muestra.matrizMuestra=e.data.informe.idMuestra.matrizMuestra,this.muestra.fechaRecoleccion=e.data.informe.idMuestra.fechaRecoleccion;for(let t=0;t<e.data.informe.itemsorden.length;t++){const a=e.data.informe.itemsorden[t];console.log(a),this.ensayosMostrar.push(a.idensayo)}console.log(this.ensayosMostrar),this.$swal({icon:"success",title:"se a cargado exitosamente "})})).catch((e=>{this.$swal({icon:"error",title:"Error al cargar la información"}),console.log(e)}))},close(){this.dialogCliente=!1,this.dialogMuestra=!1,this.dialogEnsayoNuevo=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))},traerMuestras(){J().get("https://labficat.herokuapp.com/api/orden").then((e=>{console.log(e.data.orden),this.orden=e.data.orden,console.log(this.orden)})).catch((e=>{console.log(e)}))},traerCalidad(){J().post("https://labficat.herokuapp.com/api/calidad/formato",{nombre:"Informe de Resultados"}).then((e=>{console.log(e.data.calidad),this.informe=e.data.calidad})).catch((e=>{console.log(e)}))}},created(){this.traerClientes(),this.traerMuestras(),this.traerCalidad()}},Be=je,Ge=(0,k.Z)(Be,Ue,Fe,!1,null,"2f5f3bd8",null),Xe=Ge.exports,Je=a(3423),We=function(){var e=this,t=e._self._c;return t(d.Z,{attrs:{fluid:""}},[t(j.Z,[t(z.Z,[t(U.Z,[t(de.Z,{attrs:{headers:e.encabezado,items:e.consecutivos,loading:e.myLoading,"loading-text":"Cargando... Por favor espera"},scopedSlots:e._u([{key:"item.actions",fn:function({item:a}){return[t(u.Z,{on:{click:function(t){return e.editarConsecutivos(a)}}},[e._v(" mdi-pencil ")]),t(c.Z,{attrs:{icon:""},on:{click:function(t){return e.resetearConsecutivos(a)}}},[t("font-awesome-icon",{staticStyle:{"font-size":"24px"},attrs:{icon:"fa-solid fa-spinner"}})],1)]}}],null,!0)})],1)],1)],1),t(j.Z,[t(z.Z,[t(me.Z,{attrs:{"max-width":"1000px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(U.Z,[t(x.qW,{attrs:{color:"orange"}},[t(Je.Z,{on:{click:e.close}},[t(u.Z,[e._v("mdi-close")])],1),t("span",[e._v("Editar orden de servicio")])],1),t("validation-observer",{ref:"observer",scopedSlots:e._u([{key:"default",fn:function({invalid:a}){return[t("form",{staticClass:"py-7 px-7",on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[t("validation-provider",{attrs:{name:"Consecutivo muestra"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"consecutivo muestra",outlined:"",required:""},model:{value:e.consecutivoMuestra,callback:function(t){e.consecutivoMuestra=t},expression:"consecutivoMuestra"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"Consecutivo oferta"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"consecutivo oferta",outlined:"",required:""},model:{value:e.consecutivoOferta,callback:function(t){e.consecutivoOferta=t},expression:"consecutivoOferta"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"Iva"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"iva",outlined:"",required:""},model:{value:e.iva,callback:function(t){e.iva=t},expression:"iva"}})]}}],null,!0)}),t(c.Z,{staticClass:"mr-4",attrs:{color:"primary",type:"submit",disabled:a,rounded:"",block:""},on:{click:e.consecutivoActualizar}},[e._v(" Actualizar consecutivos ")])],1)]}}])})],1)],1)],1)],1)],1)},Ye=[];(0,re.UF)("eager"),(0,re.l7)("required",{...se.C1,message:"{_field_} no puede estar vacio"}),(0,re.l7)("email",{...se.Do,message:"Email must be valid"}),(0,re.l7)("min",{...se.VV,message:"El campo {_field_} debe tener {length} caracteres o más"});var Qe={name:"pageSetup",components:{ValidationProvider:re.d_,ValidationObserver:re._j},data(){return{dialog:!1,myLoading:!0,encabezado:[{text:"Consecutivo de muestra",align:"start",sortable:!1,value:"consecutivoMuestra"},{text:"Consecutivo oferta",value:"consecutivoOferta",sortable:!1},{text:"Iva",value:"iva",sortable:!1},{text:"Acciones",value:"actions",sortable:!1}],consecutivoMuestra:1,consecutivoOferta:1,iva:19,consecutivos:[],consecutivoEditar:{}}},methods:{traerConsecutivos(){J().get("https://labficat.herokuapp.com/api/setup").then((e=>{this.consecutivos=e.data.consecutivos,this.myLoading=!1})).catch((e=>{console.log(e)}))},editarConsecutivos(e){this.dialog=!0,this.consecutivoEditar=e},consecutivoActualizar(){J().put(`https://labficat.herokuapp.com/api/setup/modificar/${this.consecutivoEditar._id}`,{consecutivoMuestra:this.consecutivoMuestra,consecutivoOferta:this.consecutivoOferta,consecutivoInforme:1,iva:this.iva}).then((e=>{console.log(e.data.modificar),this.traerConsecutivos(),this.$swal({icon:"success",title:"Actualizacion de los consecutivos exitoso"})})).catch((e=>{console.log(e),this.$swal({icon:"error",title:"Error al actualizar los consecutivos"})}))},resetearConsecutivos(e){J().put(`https://labficat.herokuapp.com/api/setup/modificar/${e._id}`,{consecutivoMuestra:1,consecutivoOferta:1,consecutivoInforme:1,iva:19}).then((e=>{console.log(e.data.modificar),this.traerConsecutivos(),this.$swal({icon:"success",title:"Actualizacion de los consecutivos exitoso"})})).catch((e=>{console.log(e),this.$swal({icon:"error",title:"Error al actualizar los consecutivos"})})),this.traerConsecutivos()},close(){this.dialog=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))}},created(){this.traerConsecutivos()}},He=Qe,Ke=(0,k.Z)(He,We,Ye,!1,null,null,null),et=Ke.exports,tt=a(344),at=function(){var e=this,t=e._self._c;return t(d.Z,{attrs:{fluid:""}},[t(j.Z,[t(z.Z,[t(U.Z,{staticClass:"rounded-xl rounded-bl-0",attrs:{outlined:""}},[t(F.h7,[t("h2",[e._v("Formulario de ensayos")])]),t("validation-observer",{ref:"observer",scopedSlots:e._u([{key:"default",fn:function({invalid:a}){return[t("form",{staticClass:"py-7 px-7",on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[t("validation-provider",{attrs:{name:"ensayo",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"Ensayo",outlined:"",required:""},model:{value:e.ensayo,callback:function(t){e.ensayo=t},expression:"ensayo"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"metodo",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"Metodo",outlined:"",required:""},model:{value:e.metodo,callback:function(t){e.metodo=t},expression:"metodo"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"tecnica",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"Técnica",type:"text",outlined:"",required:""},model:{value:e.tecnica,callback:function(t){e.tecnica=t},expression:"tecnica"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"valor mínimo",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"Valor Mínimo",type:"number",outlined:"",required:""},model:{value:e.valorMinimo,callback:function(t){e.valorMinimo=t},expression:"valorMinimo"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"valor maximo",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"Valor Máximo",type:"number",outlined:"",required:""},model:{value:e.valorMaximo,callback:function(t){e.valorMaximo=t},expression:"valorMaximo"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"unidades",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"Unidades",type:"number",outlined:"",required:""},model:{value:e.unidades,callback:function(t){e.unidades=t},expression:"unidades"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"costo",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"Costo",type:"number",outlined:"",required:""},model:{value:e.costo,callback:function(t){e.costo=t},expression:"costo"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"descripcion",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"Descripción",outlined:"",required:""},model:{value:e.descripcion,callback:function(t){e.descripcion=t},expression:"descripcion"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"limite cuantificación",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,type:"number",label:"Límite cuantificación",outlined:"",required:""},model:{value:e.limiteCuantificacion,callback:function(t){e.limiteCuantificacion=t},expression:"limiteCuantificacion"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"titular",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(tt.Z,{attrs:{"error-messages":a,items:e.usuarios,"item-text":"nombre","item-value":"._id",dense:"",filled:"",label:"Titular"},model:{value:e.responsables.titular,callback:function(t){e.$set(e.responsables,"titular",t)},expression:"responsables.titular"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"suplente",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(tt.Z,{attrs:{"error-messages":a,items:e.usuarios,"item-text":"nombre","item-value":"._id",dense:"",filled:"",label:"Suplente"},model:{value:e.responsables.suplente,callback:function(t){e.$set(e.responsables,"suplente",t)},expression:"responsables.suplente"}})]}}],null,!0)}),t(c.Z,{staticClass:"mr-4",attrs:{color:"primary",type:"submit",disabled:a,rounded:"",block:""},on:{click:e.ingresarEnsayo}},[e._v(" Registrar ")])],1)]}}])})],1)],1)],1)],1)},ot=[];(0,re.UF)("eager"),(0,re.l7)("required",{...se.C1,message:"{_field_} no puede estar vacio"}),(0,re.l7)("email",{...se.Do,message:"Email must be valid"}),(0,re.l7)("min",{...se.VV,message:"El campo {_field_} debe tener {length} caracteres o más"}),(0,re.l7)("confirmed",{...se.GU,message:"El campo {_field_} debe coincidir con contraseña"});var st={name:"pageEnsayo",components:{ValidationProvider:re.d_,ValidationObserver:re._j},data(){return{ensayo:"",metodo:"",tecnica:"",valorMinimo:null,valorMaximo:null,unidades:null,costo:null,descripcion:"",limiteCuantificacion:"",responsables:{titular:"",suplente:""},usuarios:[]}},methods:{ingresarEnsayo(){J().post("https://labficat.herokuapp.com/api/ensayo",{ensayo:this.ensayo,metodo:this.metodo,tecnica:this.tecnica,valorMinimo:this.valorMinimo,valorMaximo:this.valorMaximo,unidades:this.unidades,costo:this.costo,descripcion:this.descripcion,limiteCuantificacion:this.limiteCuantificacion,responsables:this.responsables}).then((e=>{console.log(e.data.ensayos),this.$swal({icon:"success",title:"Registro exitoso",text:"Registro exitoso del ensayo"})})).catch((e=>{console.log(e),this.$swal({icon:"error",title:"Error al registrar un ensayo"})}))},traerUsuarios(){J().get("https://labficat.herokuapp.com/api/usuario").then((e=>{this.usuarios=e.data.usuario,console.log(this.usuarios)})).catch((e=>{console.log(e)}))}},created(){this.traerUsuarios()}},rt=st,it=(0,k.Z)(rt,at,ot,!1,null,null,null),nt=it.exports,lt=function(){var e=this,t=e._self._c;return t(d.Z,{attrs:{fluid:""}},[t(j.Z,[t(z.Z,[t(U.Z,[t(F.h7,[t("h2",[e._v("Bitacora")])]),t(de.Z,{attrs:{headers:e.encabezadoBitacora,items:e.bitacora,loading:e.myLoading,"loading-text":"Cargando... Por favor espera"},scopedSlots:e._u([{key:"item.createdAt",fn:function({item:a}){return[t("span",[e._v(e._s(e.fecha(a.createdAt)))])]}}],null,!0)})],1)],1)],1)],1)},ct=[],dt={name:"pageBitacora",data(){return{myLoading:!0,encabezadoBitacora:[{text:"Usuario",align:"start",sortable:!1,value:"usuario.nombre"},{text:"Mensaje",value:"mensaje",sortable:!1},{text:"Fecha y hora",value:"createdAt",sortable:!0}],bitacora:[]}},methods:{traerBitacora(){J().get("https://labficat.herokuapp.com/api/bitacora").then((e=>{this.bitacora=e.data.bitacoras,this.myLoading=!1})).catch((e=>{console.log(e)}))},fecha(e){let t=new Date(e);return console.log(),t.toLocaleDateString()+" - "+t.toLocaleTimeString()}},created(){this.traerBitacora()}},ut=dt,mt=(0,k.Z)(ut,lt,ct,!1,null,null,null),pt=mt.exports,ft=function(){var e=this,t=e._self._c;return t(d.Z,{attrs:{fluid:""}},[t(j.Z,[t(z.Z,[t(U.Z,[t(F.h7,[e._v(" Formato de calidad "),t(g.Z),t(me.Z,{attrs:{"max-width":"1000px"},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:o}){return[t(c.Z,e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",o,!1),a),[e._v(" Nuevo formato ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(U.Z,[t(x.qW,{attrs:{color:"orange"}},[t(Je.Z,{on:{click:e.close}},[t(u.Z,[e._v("mdi-close")])],1),t("span",[e._v("Agregar nuevo formato")])],1),t("validationObserver",{ref:"observer",scopedSlots:e._u([{key:"default",fn:function({invalid:a}){return[t("form",{staticClass:"py-7 px-7",on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[t("validation-provider",{attrs:{name:"formato",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"Formato",outlined:"",required:""},model:{value:e.formato,callback:function(t){e.formato=t},expression:"formato"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"codigo",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"Formato",outlined:"",required:""},model:{value:e.codigo,callback:function(t){e.codigo=t},expression:"codigo"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"aprobacion",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(ve.Z,{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto","error-messages":a},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:o}){return[t(te.Z,e._g(e._b({staticClass:"field px-0 py-0 my-0",attrs:{"prepend-icon":"mdi-calendar",readonly:"",height:"26"},model:{value:e.aprobacion,callback:function(t){e.aprobacion=t},expression:"aprobacion"}},"v-text-field",o,!1),a))]}}],null,!0),model:{value:e.menu1,callback:function(t){e.menu1=t},expression:"menu1"}},[t(ue.Z,{on:{input:function(t){e.menu1=!1}},model:{value:e.aprobacion,callback:function(t){e.aprobacion=t},expression:"aprobacion"}})],1)]}}],null,!0)}),t("validation-provider",{attrs:{name:"version",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"Version",outlined:"",required:""},model:{value:e.version,callback:function(t){e.version=t},expression:"version"}})]}}],null,!0)}),t(c.Z,{staticClass:"mr-4",attrs:{color:"primary",type:"submit",disabled:a,rounded:""},on:{click:e.agregarCalidad}},[e._v(" Agregar ")])],1)]}}])})],1)],1)],1),t(de.Z,{attrs:{headers:e.encabezado,items:e.formatos,loading:e.myLoading,"loading-text":"Cargando... Por favor espera"},scopedSlots:e._u([{key:"item.actions",fn:function({item:a}){return[t(j.Z,[t(c.Z,{attrs:{icon:""},on:{click:function(t){return e.editar(a)}}},[t("font-awesome-icon",{staticStyle:{"font-size":"20px"},attrs:{icon:"fa-solid fa-file-pen"}})],1)],1)]}}],null,!0)})],1)],1)],1),t(j.Z,[t(z.Z,[t(me.Z,{attrs:{"max-width":"1000px"},model:{value:e.dialogEditar,callback:function(t){e.dialogEditar=t},expression:"dialogEditar"}},[t(U.Z,[t(x.qW,{attrs:{color:"orange"}},[t(Je.Z,{on:{click:e.close}},[t(u.Z,[e._v("mdi-close")])],1),t("span",[e._v("Agregar nuevo formato")])],1),t("validationObserver",{ref:"observer",scopedSlots:e._u([{key:"default",fn:function({invalid:a}){return[t("form",{staticClass:"py-7 px-7",on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[t("validation-provider",{attrs:{name:"formato",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"Formato",outlined:"",required:""},model:{value:e.formato,callback:function(t){e.formato=t},expression:"formato"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"código",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"Código",outlined:"",required:""},model:{value:e.codigo,callback:function(t){e.codigo=t},expression:"codigo"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"aprobación",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(ve.Z,{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto","error-messages":a},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:o}){return[t(te.Z,e._g(e._b({staticClass:"field px-0 py-0 my-0",attrs:{"prepend-icon":"mdi-calendar",readonly:"",height:"26"},model:{value:e.aprobacion,callback:function(t){e.aprobacion=t},expression:"aprobacion"}},"v-text-field",o,!1),a))]}}],null,!0),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[t(ue.Z,{on:{input:function(t){e.menu2=!1}},model:{value:e.aprobacion,callback:function(t){e.aprobacion=t},expression:"aprobacion"}})],1)]}}],null,!0)}),t("validation-provider",{attrs:{name:"version",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"Version",outlined:"",required:""},model:{value:e.version,callback:function(t){e.version=t},expression:"version"}})]}}],null,!0)}),t(c.Z,{staticClass:"mr-4",attrs:{color:"primary",type:"submit",disabled:a,rounded:""},on:{click:e.editarCalidad}},[e._v(" Agregar ")])],1)]}}])})],1)],1)],1)],1)],1)},ht=[];(0,re.UF)("eager"),(0,re.l7)("required",{...se.C1,message:"{_field_} no puede estar vacio"}),(0,re.l7)("email",{...se.Do,message:"Email must be valid"}),(0,re.l7)("min",{...se.VV,message:"El campo {_field_} debe tener {length} caracteres o más"}),(0,re.l7)("confirmed",{...se.GU,message:"El campo {_field_} debe coincidir con contraseña"});var vt={name:"pageCalidad",components:{ValidationProvider:re.d_,ValidationObserver:re._j},data(){return{menu1:!1,menu2:!1,dialog:!1,dialogEditar:!1,myLoading:!0,encabezado:[{text:"Formato",align:"start",sortable:!1,value:"formato"},{text:"Código",value:"codigo",sortable:!1},{text:"Aprobación",value:"aprobacion",sortable:!1},{text:"Versión",value:"version",sortable:!1},{text:"Acciones",value:"actions",sortable:!1}],formatos:[],formato:"",codigo:"",aprobacion:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),version:"",formatoEditar:{}}},methods:{traerCalidad(){J().get("https://labficat.herokuapp.com/api/calidad").then((e=>{console.log(e.data.calidad),this.formatos=e.data.calidad,this.myLoading=!1})).catch((e=>{console.log(e)}))},agregarCalidad(){J().post("https://labficat.herokuapp.com/api/calidad/insertar",{formato:this.formato,codigo:this.codigo,aprobacion:this.aprobacion,version:this.version}).then((e=>{console.log(e.data.calidad),this.$swal({icon:"success",title:"Registro exitoso del formato"}),this.traerCalidad()})).catch((e=>{console.log(e),this.$swal({icon:"error",title:"Error al registrar el formato"})}))},editar(e){console.log(e),this.formatoEditar=e,this.dialogEditar=!0},editarCalidad(){J().put(`https://labficat.herokuapp.com/api/calidad/modificar/${this.formatoEditar._id}`,{formato:this.formato,codigo:this.codigo,aprobacion:this.aprobacion,version:this.version}).then((e=>{console.log(e.data.modificar),this.$swal({icon:"success",title:"Actualización exitoso del formato"}),this.traerCalidad()})).catch((e=>{console.log(e),this.$swal({icon:"error",title:"Error al actualizar un formato"})}))},close(){this.dialog=!1,this.dialogEditar=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))}},created(){this.traerCalidad()}},bt=vt,gt=(0,k.Z)(bt,ft,ht,!1,null,null,null),xt=gt.exports,yt=function(){var e=this,t=e._self._c;return t(d.Z,[t(j.Z,[t(z.Z,[t(U.Z,[t(F.EB,[t(te.Z,{attrs:{"append-icon":"mdi-magnify",label:"buscar","single-line":"","hide-details":""},model:{value:e.busqueda,callback:function(t){e.busqueda=t},expression:"busqueda"}}),t(g.Z),t(c.Z,{attrs:{color:"blue darken-1",to:"cotizacion"}},[e._v(" agregar nueva cotizacion ")])],1),t(de.Z,{attrs:{headers:e.encabezadoCotizacion,items:e.cotizaciones,search:e.busqueda,loading:e.myLoading,"loading-text":"Cargando... Por favor espera"},scopedSlots:e._u([{key:"item.actions",fn:function({item:a}){return[1==a.estado?t("div",[t(c.Z,{attrs:{icon:""},on:{click:function(t){return e.editarCotizacion(a)}}},[t("font-awesome-icon",{staticStyle:{"font-size":"20px"},attrs:{icon:"fa-solid fa-pencil"}})],1)],1):t("div",[t(c.Z,{attrs:{disabled:"",icon:""}},[t("font-awesome-icon",{staticStyle:{"font-size":"20px"},attrs:{icon:"fa-solid fa-pencil"}})],1)],1)]}},{key:"item.fechaEmision",fn:function({item:a}){return[t("span",[e._v(e._s(e.fecha(a.createdAt)))])]}},{key:"item.estado",fn:function({item:a}){return[1==a.estado?t("div",[t("b",[t("span",{staticClass:"blue--text"},[e._v("Activo")])])]):t("div",[t("b",[t("span",{staticClass:"red--text"},[e._v("Inactivo")])])])]}}],null,!0)})],1)],1)],1)],1)},Ct=[],_t={name:"PageMostrar",data(){return{myLoading:!0,cotizaciones:[],busqueda:"",encabezadoCotizacion:[{text:"Numero de cotización",align:"start",sortable:!0,value:"numCotizacion"},{text:"Fecha de emision",value:"fechaEmision",sortable:!1},{text:"Cliente",value:"idCliente.nombre",sortable:!0},{text:"Elaborador",value:"idElaboradoPor.nombre",sortable:!1},{text:"Total",value:"total",sortable:!1},{text:"Estado",value:"estado",sortable:!0},{text:"Acciones",value:"actions",sortable:!1}]}},computed:{buscar(){return this.cotizaciones.filter((e=>{const t=e.numCotizacion.toLowerCase(),a=e.idCliente.nombre.toLowerCase(),o=e.idElaboradoPor.nombre.toLowerCase(),s=this.busqueda.toLowerCase();return t.includes(s)||a.includes(s)||o.includes(s)}))}},methods:{traerCotizaciones(){J().get("https://labficat.herokuapp.com/api/cotizacion").then((e=>{console.log(e.data.cotizacion),this.myLoading=!1,this.cotizaciones=e.data.cotizacion.reverse()})).catch((e=>{console.log(e)}))},editarCotizacion(e){this.$store.dispatch("setCotizacionEditar",e),console.log(this.$store.state.cotizacionEditar),this.$router.push("/cotizacion")},fecha(e){let t=new Date(e);return t.toLocaleDateString()+" - "+t.toLocaleTimeString()}},created(){this.traerCotizaciones()}},Zt=_t,kt=(0,k.Z)(Zt,yt,Ct,!1,null,null,null),Et=kt.exports,St=function(){var e=this,t=e._self._c;return t(d.Z,{attrs:{fluid:""}},[t(j.Z,[t(z.Z,[t(U.Z,[t(F.EB,[t(te.Z,{attrs:{"append-icon":"mdi-magnify",label:"buscar","single-line":"","hide-details":""},model:{value:e.busqueda,callback:function(t){e.busqueda=t},expression:"busqueda"}}),t(g.Z),t(c.Z,{attrs:{color:"blue darken-1",to:"recepcionMuestra"}},[e._v(" agregar nueva muestra ")])],1),t(de.Z,{attrs:{headers:e.headers,items:e.muestras,search:e.busqueda,loading:e.myLoading,"loading-text":"Cargando... Por favor espera"},scopedSlots:e._u([{key:"item.actions",fn:function({item:a}){return[t(j.Z,[1==a.estado?t("div",[t(c.Z,{attrs:{icon:""},on:{click:function(t){return e.infoMuestraEditar(a)}}},[t("font-awesome-icon",{staticStyle:{"font-size":"20px"},attrs:{icon:"fa-solid fa-pencil"}})],1),t(c.Z,{attrs:{color:"red",icon:""},on:{click:function(t){return e.estadoMuestra(a)}}},[t("font-awesome-icon",{staticStyle:{"font-size":"20px"},attrs:{icon:"fa-solid fa-ban"}})],1)],1):t("div",[t(c.Z,{attrs:{disabled:"",icon:""}},[t("font-awesome-icon",{staticStyle:{"font-size":"20px"},attrs:{icon:"fa-solid fa-pencil"}})],1),t(c.Z,{attrs:{color:"blue",icon:""},on:{click:function(t){return e.estadoMuestra(a)}}},[t("font-awesome-icon",{staticStyle:{"font-size":"20px"},attrs:{icon:"fa-regular fa-circle-check"}})],1)],1)])]}},{key:"item.fechaRecoleccion",fn:function({item:a}){return[t("span",[e._v(e._s(e.fecha(a.fechaRecoleccion)))])]}},{key:"item.estado",fn:function({item:a}){return[1==a.estado?t("div",[t("b",[t("span",{staticClass:"blue--text"},[e._v("Activo")])])]):t("div",[t("b",[t("span",{staticClass:"red--text"},[e._v("Inactivo")])])])]}}],null,!0)})],1)],1)],1)],1)},zt=[],wt={name:"PageMostrar",data(){return{myLoading:!0,busqueda:"",muestras:[],headers:[{text:"Código de Muestra",align:"start",sortable:!1,value:"codMuestra"},{text:"Dirección de toma de muestra",value:"direccionTomaMuestra"},{text:"Lugar de toma de muestra",value:"lugarTomaMuestra"},{text:"Fecha de recolección",value:"fechaRecoleccion"},{text:"Cotización",value:"cotizacion.numCotizacion"},{text:"Estado",value:"estado"},{text:"Acciones",value:"actions"}]}},computed:{buscar(){return this.muestras.filter((e=>{const t=e.codMuestra.toLowerCase(),a=e.direccionTomaMuestra.toLowerCase(),o=e.lugarTomaMuestra.toLowerCase(),s=e.fechaRecoleccion.toLowerCase(),r=e.Cotización.toLowerCase(),i=this.busqueda.toLowerCase(),n=e.estado.toLowerCase();return t.includes(i)||a.includes(i)||o.includes(i)||s.includes(i)||r.includes(i)||n.includes(i)}))}},methods:{traerMuestra(){J().get("https://labficat.herokuapp.com/api/muestra").then((e=>{this.muestras=e.data.muestra,this.myLoading=!1})).catch((e=>{console.log(e)}))},infoMuestraEditar(e){this.$router.push("/recepcionMuestra"),this.$store.dispatch("setMuestraEditar",e),console.log(this.$store.state.muestraEditar)},estadoMuestra(e){1==e.estado?J().put(`https://labficat.herokuapp.com/api/muestra/desactivar/${e._id}`).then((e=>{console.log(e),this.$swal({icon:"success",title:"Muestra desactivada Exitosamente"}),this.traerMuestra()})).catch((e=>{console.log(e),this.$swal({icon:"error",title:"Error al desactivar la orden de servicio"})})):J().put(`https://labficat.herokuapp.com/api/muestra/activar/${e._id}`).then((e=>{console.log(e),this.$swal({icon:"success",title:"Muestra activada Exitosamente"}),this.traerMuestra()})).catch((e=>{console.log(e),this.$swal({icon:"error",title:"Error al activar la muestra"})}))},fecha(e){let t=e.split("T")[0].replace(/-/g,"/");console.log(t);let a=new Date(e);return a.toLocaleDateString()}},created(){this.traerMuestra()}},Mt=wt,qt=(0,k.Z)(Mt,St,zt,!1,null,null,null),$t=qt.exports,It=function(){var e=this,t=e._self._c;return t(d.Z,{attrs:{fluid:""}},[t(j.Z,[t(z.Z,[t(U.Z,{staticClass:"mb-4"},[t(F.EB,[e._v(" Ordenes de servicio ")]),t(de.Z,{attrs:{headers:e.encabezado,items:e.ordenes,loading:e.myLoading,"loading-text":"Cargando... Por favor espera"},scopedSlots:e._u([{key:"item.actions",fn:function({item:a}){return[t(j.Z,[t(c.Z,{attrs:{icon:""},on:{click:function(t){return e.infoOrdenEditar(a)}}},[t("font-awesome-icon",{staticStyle:{"font-size":"20px"},attrs:{icon:"fa-solid fa-file-pen"}})],1),1==a.estado?t("div",[t(c.Z,{attrs:{color:"red",icon:""},on:{click:function(t){return e.estadoOrden(a)}}},[t("font-awesome-icon",{staticStyle:{"font-size":"20px"},attrs:{icon:"fa-solid fa-ban"}})],1)],1):t("div",[t(c.Z,{attrs:{color:"blue",icon:""},on:{click:function(t){return e.estadoOrden(a)}}},[t("font-awesome-icon",{staticStyle:{"font-size":"20px"},attrs:{icon:"fa-regular fa-circle-check"}})],1)],1)],1)]}},{key:"item.estado",fn:function({item:a}){return[1==a.estado?t("div",[t("b",[t("span",{staticClass:"blue--text"},[e._v("Activo")])])]):t("div",[t("b",[t("span",{staticClass:"red--text"},[e._v("Inactivo")])])])]}}],null,!0)}),t(F.h7)],1)],1)],1),t(me.Z,{attrs:{"max-width":"1000px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(U.Z,[t(x.qW,{attrs:{color:"orange"}},[t(Je.Z,{on:{click:e.close}},[t(u.Z,[e._v("mdi-close")])],1),t("span",[e._v("Editar orden de servicio")])],1),t("validation-observer",{ref:"observer",scopedSlots:e._u([{key:"default",fn:function({invalid:a}){return[t("form",{staticClass:"py-7 px-7",on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[t("validation-provider",{attrs:{name:"resultado",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"Resultado",outlined:"",required:""},model:{value:e.resultado,callback:function(t){e.resultado=t},expression:"resultado"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"incertidumbre",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"Incertidumbre",outlined:"",required:""},model:{value:e.incertidumbre,callback:function(t){e.incertidumbre=t},expression:"incertidumbre"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"observaciones",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"Observaciones",outlined:"",required:""},model:{value:e.observacion,callback:function(t){e.observacion=t},expression:"observacion"}})]}}],null,!0)}),t(c.Z,{staticClass:"mr-4",attrs:{color:"primary",type:"submit",disabled:a,rounded:"",block:""},on:{click:e.editarOrdenServicio}},[e._v(" Actualizar orden de servicio ")])],1)]}}])})],1)],1)],1)},Rt=[];(0,re.UF)("eager"),(0,re.l7)("required",{...se.C1,message:"{_field_} no puede estar vacio"}),(0,re.l7)("email",{...se.Do,message:"Email must be valid"}),(0,re.l7)("min",{...se.VV,message:"El campo {_field_} debe tener {length} caracteres o más"});var Dt={name:"pageOrdenServicio",components:{ValidationProvider:re.d_,ValidationObserver:re._j},data(){return{myLoading:!0,dialog:!1,resultado:"",incertidumbre:"",observacion:"",encabezado:[{text:"Muestra",align:"start",sortable:!1,value:"idMuestra.codMuestra"},{text:"observaciones",value:"observaciones",sortable:!1},{text:"estado",value:"estado",sortable:!1},{text:"Acciones",value:"actions",sortable:!1}],ordenes:[],ordenEditar:{}}},methods:{traerOrdenes(){J().get("https://labficat.herokuapp.com/api/orden").then((e=>{this.myLoading=!1,this.ordenes=e.data.orden,console.log(this.ordenes)})).catch((e=>{console.log(e)}))},infoOrdenEditar(e){console.log(e),this.dialog=!0,this.ordenEditar=e},editarOrdenServicio(){J().put(`https://labficat.herokuapp.com/api/orden/completado/${this.ordenEditar._id}`,{itemsorden:[{resultado:this.resultado,incertidumbre:this.incertidumbre}],observaciones:this.observacion}).then((e=>{console.log(e.data.orden),this.$swal({icon:"success",title:"Actualizacion de la orden de servicio exitoso"}),this.traerOrdenes()})).catch((e=>{console.log(e),this.$swal({icon:"error",title:"Error al actualizar la orden de servicio"})}))},estadoOrden(e){console.log("estado: "+e.estado),1==e.estado?J().put(`https://labficat.herokuapp.com/api/orden/desactivar/${e._id}`).then((e=>{console.log(e),this.$swal({icon:"success",title:"Orden desactivada Exitosamente"}),this.traerOrdenes()})).catch((e=>{console.log(e),this.$swal({icon:"error",title:"Error al desactivar la orden de servicio"})})):J().put(`https://labficat.herokuapp.com/api/orden/activar/${e._id}`).then((e=>{console.log(e),this.$swal({icon:"success",title:"Orden activada Exitosamente"}),this.traerOrdenes()})).catch((e=>{console.log(e),this.$swal({icon:"error",title:"Error al activar la orden de servicio"})}))},close(){this.dialog=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))}},created(){this.traerOrdenes()}},Tt=Dt,Ot=(0,k.Z)(Tt,It,Rt,!1,null,"69f7e1c1",null),Nt=Ot.exports,At=function(){var e=this,t=e._self._c;return t(d.Z,{attrs:{fluid:""}},[t(j.Z,[t(z.Z,[t(fe.Z,{scopedSlots:e._u([{key:"default",fn:function({hover:a}){return[t(U.Z,[t(F.EB,[e._v(" Usuarios "),t(g.Z),t(c.Z,{attrs:{color:"primary",to:"registro"}},[e._v("Agregar nuevo usuario")])],1),t(de.Z,{attrs:{headers:e.encabezado,items:e.usuarios,loading:e.myLoading,"loading-text":"Cargando... Por favor espera"},scopedSlots:e._u([{key:"item.actions",fn:function({item:o}){return[t(j.Z,[t(c.Z,{style:{color:a?"black":""},attrs:{icon:""},on:{click:function(t){return e.actualizarInfoUsuario(o)}}},[t("font-awesome-icon",{staticStyle:{"font-size":"20px"},attrs:{icon:"fa-solid fa-user-pen"}})],1),1==o.estado?t("div",[t(c.Z,{attrs:{color:"red",icon:""},on:{click:function(t){return e.estadoUsuario(o)}}},[t("font-awesome-icon",{staticStyle:{"font-size":"20px"},attrs:{icon:"fa-solid fa-user-large-slash"}})],1)],1):e._e(),0==o.estado?t("div",{on:{click:function(t){return e.estadoUsuario(o)}}},[t(c.Z,{attrs:{icon:"",color:"orange"}},[t("font-awesome-icon",{staticStyle:{"font-size":"20px"},attrs:{icon:"fa-solid fa-earth-americas"}})],1)],1):e._e(),2==o.estado?t("div",{on:{click:function(t){return e.estadoUsuario(o)}}},[t(c.Z,{attrs:{icon:"",color:"blue"}},[t("font-awesome-icon",{staticStyle:{"font-size":"20px"},attrs:{icon:"fa-solid fa-user-large"}})],1)],1):e._e()],1)]}},{key:"item.estado",fn:function({item:a}){return[1==a.estado?t("div",[t("b",[t("span",{staticClass:"blue--text"},[e._v("Activo")])])]):e._e(),0==a.estado?t("div",[t("b",[t("span",{staticClass:"red--text"},[e._v("Inactivo")])])]):e._e(),2==a.estado?t("div",[t("b",[t("span",{staticClass:"orange--text"},[e._v("Vacaciones")])])]):e._e()]}}],null,!0)})],1)]}}])})],1)],1),t(j.Z,[t(z.Z,[t(me.Z,{attrs:{"max-width":"1000px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(U.Z,{attrs:{outlined:""}},[t("validation-observer",{ref:"observer",scopedSlots:e._u([{key:"default",fn:function({invalid:a}){return[t("form",{staticClass:"py-7 px-7",on:{submit:function(t){return t.preventDefault(),e.registrar.apply(null,arguments)}}},[t("validation-provider",{attrs:{name:"tipo de persona",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(be.Z,{attrs:{items:e.items,"error-messages":a,outlined:"",label:"Tipo de persona","data-vv-name":"tipo de persona",required:""},model:{value:e.select,callback:function(t){e.select=t},expression:"select"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"nombre",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"Nombre",outlined:"",required:""},model:{value:e.persona.nombre,callback:function(t){e.$set(e.persona,"nombre",t)},expression:"persona.nombre"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"documento",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"Documento",outlined:"",required:""},model:{value:e.persona.documento,callback:function(t){e.$set(e.persona,"documento",t)},expression:"persona.documento"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"dirección",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"Dirección",outlined:"",required:""},model:{value:e.persona.direccion,callback:function(t){e.$set(e.persona,"direccion",t)},expression:"persona.direccion"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"departamento",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(be.Z,{attrs:{items:e.departa,"item-text":"departamento","item-key":"departa","item-value":"_id","error-messages":a,outlined:"",label:"Departamento","data-vv-name":"departamento",required:""},on:{change:function(t){return e.traerCiudades(e.departa)}},model:{value:e.persona.departamento,callback:function(t){e.$set(e.persona,"departamento",t)},expression:"persona.departamento"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"ciudad",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(be.Z,{attrs:{items:e.ciudades,"item-text":"Ciudad","item-key":"ciudades","item-value":"_id","error-messages":a,outlined:"",label:"Cuidad","data-vv-name":"ciudad",required:""},model:{value:e.persona.ciudad,callback:function(t){e.$set(e.persona,"ciudad",t)},expression:"persona.ciudad"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"contacto",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"Contacto",outlined:"",required:""},model:{value:e.persona.contacto,callback:function(t){e.$set(e.persona,"contacto",t)},expression:"persona.contacto"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"teléfono del contacto",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"Telefono contacto",outlined:"",required:""},model:{value:e.persona.celularContacto,callback:function(t){e.$set(e.persona,"celularContacto",t)},expression:"persona.celularContacto"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"teléfono",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"Teléfono",outlined:"",required:""},model:{value:e.persona.telefono,callback:function(t){e.$set(e.persona,"telefono",t)},expression:"persona.telefono"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"Email",rules:"required|email"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"E-mail","prepend-icon":"mdi-email",outlined:"",required:""},model:{value:e.persona.email,callback:function(t){e.$set(e.persona,"email",t)},expression:"persona.email"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"contraseña",vid:"password",rules:{required:!0,min:8}},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"Contraseña",type:"password",outlined:"","prepend-icon":"mdi-lock",required:""},model:{value:e.persona.password,callback:function(t){e.$set(e.persona,"password",t)},expression:"persona.password"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"confirmar contraseña",rules:"required|confirmed:password"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"confirmar contraseña",outlined:"",type:"password",required:""},model:{value:e.persona.confirmation,callback:function(t){e.$set(e.persona,"confirmation",t)},expression:"persona.confirmation"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"rol",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(be.Z,{attrs:{items:e.roles,"error-messages":a,outlined:"",label:"Roles","data-vv-name":"roles",required:""},model:{value:e.persona.rol,callback:function(t){e.$set(e.persona,"rol",t)},expression:"persona.rol"}})]}}],null,!0)}),t(c.Z,{staticClass:"mr-4",attrs:{color:"primary",type:"submit",disabled:a,rounded:"",block:""},on:{click:e.actualizarUsuario}},[e._v(" Actualizar Usuario ")])],1)]}}])})],1)],1)],1)],1)],1)},Vt=[];(0,re.UF)("eager"),(0,re.l7)("required",{...se.C1,message:"{_field_} no puede estar vacio"}),(0,re.l7)("email",{...se.Do,message:"Email must be valid"}),(0,re.l7)("min",{...se.VV,message:"El campo {_field_} debe tener {length} caracteres o más"}),(0,re.l7)("confirmed",{...se.GU,message:"El campo {_field_} debe coincidir con contraseña"});var Lt={name:"pageVerUsuarios",components:{ValidationProvider:re.d_,ValidationObserver:re._j},data(){return{select:null,myLoading:!0,dialog:!1,idPersona:"",encabezado:[{text:"Nombre",align:"start",sortable:!1,value:"nombre"},{text:"Documento",value:"documento",sortable:!1},{text:"Direccion",value:"direccion",sortable:!1},{text:"Ciudad",value:"ciudad.Ciudad",sortable:!1},{text:"Contacto",value:"contacto",sortable:!1},{text:"Telefono",value:"telefono",sortable:!1},{text:"Correo",value:"correo",sortable:!1},{text:"Rol",value:"rol",sortable:!1},{text:"Estado",value:"estado",sortable:!1},{text:"Acciones",value:"actions",sortable:!1}],usuarios:[],departa:[],ciudades:[],roles:["cliente","secretario","administrador","director","especialista","supervisor"],persona:{nombre:"",documento:"",direccion:"",departamento:"",ciudad:"",contacto:"",celularContacto:"",telefono:"",email:"",password:"",confirmation:"",rol:""},items:["Natural","Jurídica"]}},methods:{traerDepartamentos(){J().get("https://labficat.herokuapp.com/api/ciudad/departamentos").then((e=>{console.log(e.data.departamentos),this.departa=e.data.departamentos,console.log(this.departa)})).catch((e=>{console.log(e)}))},traerCiudades(e){console.log(e),J().post("https://labficat.herokuapp.com/api/ciudad/nombreDepartamento",{departamento:this.persona.departamento}).then((e=>{console.log(e.data.ciudades),this.ciudades=e.data.ciudades,console.log(this.ciudades)})).catch((e=>{console.log(e)}))},traerUsuarios(){J().get("https://labficat.herokuapp.com/api/usuario").then((e=>{console.log(e.data.usuario),this.usuarios=e.data.usuario,this.myLoading=!1})).catch((e=>{console.log(e)}))},estadoUsuario(e){1==e.estado?J().put(`https://labficat.herokuapp.com/api/usuario/desactivar/${e._id}`).then((e=>{console.log(e.data.usuario),this.traerUsuarios()})).catch((e=>{console.log(e)})):0==e.estado?J().put(`https://labficat.herokuapp.com/api/usuario/vacaciones/${e._id}`).then((e=>{console.log(e.data.usuario),this.traerUsuarios()})).catch((e=>{console.log(e)})):2==e.estado&&J().put(`https://labficat.herokuapp.com/api/usuario/activar/${e._id}`).then((e=>{console.log(e.data.usuario),this.traerUsuarios()})).catch((e=>{console.log(e)}))},actualizarInfoUsuario(e){this.idPersona=e._id,this.persona.nombre=e.nombre,this.persona.documento=e.documento,this.persona.direccion=e.direccion,this.persona.contacto=e.contacto,this.persona.celularContacto=e.celularContacto,this.persona.telefono=e.telefono,this.persona.email=e.email,this.dialog=!0},actualizarUsuario(){J().put(`https://labficat.herokuapp.com/api/usuario/modificar/${this.idPersona}`,{tipoPersona:this.select,nombre:this.persona.nombre,documento:this.persona.documento,direccion:this.persona.direccion,ciudad:this.persona.ciudad,contacto:this.persona.contacto,celularContacto:this.persona.celularContacto,telefono:this.persona.telefono,correo:this.persona.email,password:this.persona.password,rol:this.persona.rol}).then((e=>{console.log(e),this.traerUsuarios(),this.$swal({icon:"success",title:"Usuario actualizado exitoso",text:`${e.data.modificar.nombre} actualizado exitosamente`})})).catch((e=>{console.log(e),this.$swal({icon:"error",title:"Error al registrar el usuario"})}))}},created(){this.traerUsuarios(),this.traerDepartamentos(),this.traerCiudades()}},Pt=Lt,Ut=(0,k.Z)(Pt,At,Vt,!1,null,null,null),Ft=Ut.exports,jt=function(){var e=this,t=e._self._c;return t(d.Z,{attrs:{fluid:""}},[t(j.Z,[t(z.Z,[t(U.Z,[t(F.h7,[t("h2",[e._v("Ensayos")]),t(g.Z),t(c.Z,{staticClass:"primary",attrs:{to:"ensayo"}},[e._v("Agregar ensayos")])],1),t(de.Z,{attrs:{headers:e.headerEnsayo,items:e.ensayos,loading:e.myLoading,"loading-text":"Cargando... Por favor espera"},scopedSlots:e._u([{key:"item.actions",fn:function({item:a}){return[t(j.Z,[t(c.Z,{attrs:{icon:""},on:{click:function(t){return e.editar(a)}}},[t("font-awesome-icon",{staticStyle:{"font-size":"20px"},attrs:{icon:"fa-solid fa-file-pen"}})],1)],1)]}}],null,!0)})],1)],1)],1),t(j.Z,[t(z.Z,[t(me.Z,{attrs:{"max-width":"1000px"},model:{value:e.dialogEditar,callback:function(t){e.dialogEditar=t},expression:"dialogEditar"}},[t(U.Z,[t(x.qW,{attrs:{color:"orange"}},[t(Je.Z,{on:{click:e.close}},[t(u.Z,[e._v("mdi-close")])],1),t("span",[e._v("Agregar nuevo formato")])],1),t("validationObserver",{ref:"observer",scopedSlots:e._u([{key:"default",fn:function({invalid:a}){return[t("form",{staticClass:"py-7 px-7",on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[t("validation-provider",{attrs:{name:"ensayo",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"Ensayo",outlined:"",required:""},model:{value:e.ensayo,callback:function(t){e.ensayo=t},expression:"ensayo"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"metodo",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"Metodo",outlined:"",required:""},model:{value:e.metodo,callback:function(t){e.metodo=t},expression:"metodo"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"tecnica",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"Técnica",type:"text",outlined:"",required:""},model:{value:e.tecnica,callback:function(t){e.tecnica=t},expression:"tecnica"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"valor mínimo",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"Valor Mínimo",type:"number",outlined:"",required:""},model:{value:e.valorMinimo,callback:function(t){e.valorMinimo=t},expression:"valorMinimo"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"valor maximo",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"Valor Máximo",type:"number",outlined:"",required:""},model:{value:e.valorMaximo,callback:function(t){e.valorMaximo=t},expression:"valorMaximo"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"unidades",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"Unidades",type:"number",outlined:"",required:""},model:{value:e.unidades,callback:function(t){e.unidades=t},expression:"unidades"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"costo",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"Costo",type:"number",outlined:"",required:""},model:{value:e.costo,callback:function(t){e.costo=t},expression:"costo"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"descripcion",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,label:"Descripción",outlined:"",required:""},model:{value:e.descripcion,callback:function(t){e.descripcion=t},expression:"descripcion"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"limite cuantificación",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(te.Z,{attrs:{"error-messages":a,type:"number",label:"Límite cuantificación",outlined:"",required:""},model:{value:e.limiteCuantificacion,callback:function(t){e.limiteCuantificacion=t},expression:"limiteCuantificacion"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"titular",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(tt.Z,{attrs:{"error-messages":a,items:e.usuarios,"item-text":"nombre","item-value":"._id",dense:"",filled:"",label:"Titular"},model:{value:e.responsables.titular,callback:function(t){e.$set(e.responsables,"titular",t)},expression:"responsables.titular"}})]}}],null,!0)}),t("validation-provider",{attrs:{name:"suplente",rules:"required"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t(tt.Z,{attrs:{"error-messages":a,items:e.usuarios,"item-text":"nombre","item-value":"._id",dense:"",filled:"",label:"Suplente"},model:{value:e.responsables.suplente,callback:function(t){e.$set(e.responsables,"suplente",t)},expression:"responsables.suplente"}})]}}],null,!0)}),t(c.Z,{staticClass:"mr-4",attrs:{color:"primary",type:"submit",disabled:a,rounded:"",block:""},on:{click:e.editarEnsayo}},[e._v(" Registrar ")])],1)]}}])})],1)],1)],1)],1)],1)},Bt=[];(0,re.UF)("eager"),(0,re.l7)("required",{...se.C1,message:"{_field_} no puede estar vacio"}),(0,re.l7)("email",{...se.Do,message:"Email must be valid"}),(0,re.l7)("min",{...se.VV,message:"El campo {_field_} debe tener {length} caracteres o más"}),(0,re.l7)("confirmed",{...se.GU,message:"El campo {_field_} debe coincidir con contraseña"});var Gt={name:"pageMostrarEnsayo",components:{ValidationProvider:re.d_,ValidationObserver:re._j},data(){return{myLoading:!0,dialogEditar:!1,idEnsayo:"",ensayos:[],headerEnsayo:[{text:"Ensayo",align:"start",sortable:!1,value:"ensayo"},{text:"Método",value:"metodo",sortable:!1},{text:"Técnica",value:"tecnica",sortable:!1},{text:"Valor mínimo",value:"valorMinimo",sortable:!1},{text:"Valor maximo",value:"valorMaximo",sortable:!1},{text:"Unidades",value:"unidades",sortable:!1},{text:"Costo",value:"costo",sortable:!1},{text:"Estado",value:"estado",sortable:!1},{text:"Descripción",value:"descripcion",sortable:!1},{text:"Límite cuantificación",value:"limiteCuantificacion",sortable:!1},{text:"Acciones",value:"actions",sortable:!1}],ensayo:"",metodo:"",tecnica:"",valorMinimo:null,valorMaximo:null,unidades:null,costo:null,descripcion:"",limiteCuantificacion:"",responsables:{titular:"",suplente:""},usuarios:[]}},methods:{traerEnsayos(){J().get("https://labficat.herokuapp.com/api/ensayo").then((e=>{this.ensayos=e.data.ensayos,this.myLoading=!1})).catch((e=>{console.log(e)}))},editarEnsayo(){J().put(`https://labficat.herokuapp.com/api/ensayo/${this.idEnsayo}`,{ensayo:this.ensayo,metodo:this.metodo,tecnica:this.tecnica,valorMinimo:this.valorMinimo,valorMaximo:this.valorMaximo,unidades:this.unidades,costo:this.costo,descripcion:this.descripcion,limiteCuantificacion:this.limiteCuantificacion,responsables:this.responsables}).then((e=>{console.log(e.data.modificar),this.traerEnsayos(),this.$swal({icon:"success",title:"Registro exitoso",text:"Ensayo modificado exitosamente"})})).catch((e=>{console.log(e),this.$swal({icon:"error",title:"Error al modificar el ensayo"})}))},editar(e){console.log(e),this.dialogEditar=!0,this.idEnsayo=e._id,this.ensayo=e.ensayo,this.metodo=e.metodo,this.tecnica=e.tecnica,this.valorMinimo=null,this.valorMaximo=null,this.costo=e.costo,this.descripcion=e.descripcion,this.limiteCuantificacion=e.limiteCuantificacion},traerUsuarios(){J().get("https://labficat.herokuapp.com/api/usuario").then((e=>{this.usuarios=e.data.usuario,console.log(this.usuarios)})).catch((e=>{console.log(e)}))},close(){this.dialogEditar=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))}},created(){this.traerEnsayos(),this.traerUsuarios()}},Xt=Gt,Jt=(0,k.Z)(Xt,jt,Bt,!1,null,null,null),Wt=Jt.exports,Yt=function(){var e=this,t=e._self._c;return t(d.Z,{attrs:{fluid:""}},[t(j.Z,[t(z.Z,[t(de.Z,{attrs:{headers:e.header,items:e.lismamu,loading:e.myLoading,"loading-text":"Cargando... Por favor espera"},scopedSlots:e._u([{key:"item.createdAt",fn:function({item:a}){return[t("span",[e._v(e._s(e.fechaCompleta(a.createdAt)))])]}},{key:"item.fechaRecoleccion",fn:function({item:a}){return[t("span",[e._v(e._s(e.fecha(a.fechaRecoleccion)))])]}},{key:"item.cotizacion.entregaResultados",fn:function({item:a}){return[t("span",[e._v(e._s(e.fecha(a.cotizacion.entregaResultados)))])]}}],null,!0)})],1)],1)],1)},Qt=[],Ht={name:"pageLisMaMu",data(){return{myLoading:!0,header:[{text:"Fecha ingreso muestra",align:"start",sortable:!1,value:"createdAt"},{text:"Código muestra",value:"codMuestra",sortable:!1},{text:"Solicitante",value:"solicitante.nombre",sortable:!1},{text:"NIT/CC",value:"solicitante.documento",sortable:!1},{text:"Dirección",value:"solicitante.direccion",sortable:!1},{text:"Ciudad",value:"solicitante.ciudad.Ciudad",sortable:!1},{text:"Departamento",value:"solicitante.ciudad.departamento",sortable:!1},{text:"Contacto",value:"solicitante.contacto",sortable:!1},{text:"Teléfono",value:"solicitante.telefono",sortable:!1},{text:"Correo",value:"solicitante.correo",sortable:!1},{text:"Municipio de recolección",value:"munRecoleccion.Ciudad",sortable:!1},{text:"Dirección toma muestra",value:"direccionTomaMuestra",sortable:!1},{text:"Lugar toma muestra",value:"lugarTomaMuestra",sortable:!1},{text:"Muestra recolectada por",value:"muestraRecolectadaPor",sortable:!1},{text:"Procedimiento muestreo",value:"procedimientoMuestreo",sortable:!1},{text:"Tipo muestra",value:"tipoMuestra.tipos",sortable:!1},{text:"Matriz muestra",value:"matrizMuestra",sortable:!1},{text:"Fecha recoleccion muestra",value:"fechaRecoleccion",sortable:!1},{text:"Cotización",value:"cotizacion.numCotizacion",sortable:!1},{text:"Item cotización",value:"item",sortable:!1},{text:"Fecha recepción muestra",value:"metodo",sortable:!1},{text:"Fecha emisión muestra",value:"metodo",sortable:!1},{text:"Fecha entrega resultados",value:"cotizacion.entregaResultados",sortable:!1},{text:"Seguimiento entrega resultados",value:"metodo",sortable:!1},{text:"Estado muestra",value:"estado",sortable:!1},{text:"Diligenciado",value:"metodo",sortable:!1},{text:"Supervisado",value:"metodo",sortable:!1}],lismamu:[]}},methods:{traerListado(){J().get("https://labficat.herokuapp.com/api/muestra/lismamu").then((e=>{console.log(e.data.muestra),this.lismamu=e.data.muestra,this.myLoading=!1})).catch((e=>{console.log(e)}))},fechaCompleta(e){let t=new Date(e);return t.toLocaleDateString()+" - "+t.toLocaleTimeString()},fecha(e){let t=e.split("T")[0].replace(/-/g,"/");console.log(t);let a=new Date(e);return a.toLocaleDateString()}},created(){this.traerListado()}},Kt=Ht,ea=(0,k.Z)(Kt,Yt,Qt,!1,null,null,null),ta=ea.exports;const aa=[{path:"/inicio",component:H},{path:"/",component:ce},{path:"/cotizacion",component:Ze},{path:"/recepcionMuestra",component:Me},{path:"/registro",component:Te},{path:"/informeDeResultados",component:Xe},{path:"/configuracion",component:Pe},{path:"/setup",component:et},{path:"/ensayo",component:nt},{path:"/bitacora",component:pt},{path:"/calidad",component:xt},{path:"/mostrarCotizacion",component:Et},{path:"/mostrarMuestra",component:$t},{path:"/ordenServicio",component:Nt},{path:"/mostrarUsuarios",component:Ft},{path:"/mostrarEnsayos",component:Wt},{path:"/lismamu",component:ta}];var oa=a(629);o.ZP.use(oa.ZP);const sa=new oa.ZP.Store({state:{token:localStorage.token,elaborador:JSON.parse(localStorage.getItem("elaborador")),cotizacionEditar:{},cotizacionVer:!1,muestraEditar:{},muestraVer:!1},mutations:{setToken(e,t){localStorage.token=t,localStorage.token?e.token=localStorage.token:e.token=t},setElaborador(e,t){localStorage.setItem("elaborador",JSON.stringify(t));let a=JSON.parse(localStorage.getItem("elaborador"));a&&(e.elaborador=a)},setCotizacionEditar(e,t){e.cotizacionEditar=t,e.cotizacionVer=!0},setMuestraEditar(e,t){e.muestraEditar=t,e.muestraVer=!0}},actions:{setToken(e,t){e.commit("setToken",t)},setElaborador(e,t){e.commit("setElaborador",t)},setCotizacionEditar(e,t){e.commit("setCotizacionEditar",t)},setMuestraEditar(e,t){e.commit("setMuestraEditar",t)}}});var ra=a(3982),ia=a.n(ra),na=a(3636),la=a(7810),ca=a(9417),da=a(4288);na.vI.add(ca.mRB),na.vI.add(da.NCV),o.ZP.component("font-awesome-icon",la.GN),o.ZP.use(ia()),o.ZP.use(P.ZP),o.ZP.config.productionTip=!1;const ua=new P.ZP({routes:aa,mode:"history"});new o.ZP({vuetify:L,router:ua,store:sa,render:e=>e(A)}).$mount("#app")}},t={};function a(o){var s=t[o];if(void 0!==s)return s.exports;var r=t[o]={exports:{}};return e[o].call(r.exports,r,r.exports,a),r.exports}a.m=e,function(){var e=[];a.O=function(t,o,s,r){if(!o){var i=1/0;for(d=0;d<e.length;d++){o=e[d][0],s=e[d][1],r=e[d][2];for(var n=!0,l=0;l<o.length;l++)(!1&r||i>=r)&&Object.keys(a.O).every((function(e){return a.O[e](o[l])}))?o.splice(l--,1):(n=!1,r<i&&(i=r));if(n){e.splice(d--,1);var c=s();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[o,s,r]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,o){var s,r,i=o[0],n=o[1],l=o[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(s in n)a.o(n,s)&&(a.m[s]=n[s]);if(l)var d=l(a)}for(t&&t(o);c<i.length;c++)r=i[c],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(d)},o=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=a.O(void 0,[998],(function(){return a(4132)}));o=a.O(o)})();
//# sourceMappingURL=app.89ab3f8f.js.map